/* esm.sh - esbuild bundle(dexie@4.0.8) es2022 production */
var __global$ = globalThis || (typeof window !== "undefined" ? window : self);
var __setImmediate$ = (cb, ...args) => setTimeout(cb, 0, ...args);
var ca=Object.create;var Er=Object.defineProperty;var la=Object.getOwnPropertyDescriptor;var fa=Object.getOwnPropertyNames;var ha=Object.getPrototypeOf,da=Object.prototype.hasOwnProperty;var va=(z,W)=>()=>(W||z((W={exports:{}}).exports,W),W.exports);var pa=(z,W,C,we)=>{if(W&&typeof W=="object"||typeof W=="function")for(let N of fa(W))!da.call(z,N)&&N!==C&&Er(z,N,{get:()=>W[N],enumerable:!(we=la(W,N))||we.enumerable});return z};var ya=(z,W,C)=>(C=z!=null?ca(ha(z)):{},pa(W||!z||!z.__esModule?Er(C,"default",{value:z,enumerable:!0}):C,z));var Sr=va((Ot,Pt)=>{(function(z,W){typeof Ot=="object"&&typeof Pt<"u"?Pt.exports=W():typeof define=="function"&&define.amd?define(W):(z=typeof globalThis<"u"?globalThis:z||self,z.Dexie=W())})(Ot,function(){"use strict";var z=function(e,n){return z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},z(e,n)};function W(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");z(e,n);function t(){this.constructor=e}e.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}var C=function(){return C=Object.assign||function(n){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a])}return n},C.apply(this,arguments)};function we(e,n,t){if(t||arguments.length===2)for(var r=0,i=n.length,a;r<i;r++)(a||!(r in n))&&(a||(a=Array.prototype.slice.call(n,0,r)),a[r]=n[r]);return e.concat(a||Array.prototype.slice.call(n))}var N=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:__global$,U=Object.keys,L=Array.isArray;typeof Promise<"u"&&!N.Promise&&(N.Promise=Promise);function G(e,n){return typeof n!="object"||U(n).forEach(function(t){e[t]=n[t]}),e}var Te=Object.getPrototypeOf,Ar={}.hasOwnProperty;function H(e,n){return Ar.call(e,n)}function Ce(e,n){typeof n=="function"&&(n=n(Te(e))),(typeof Reflect>"u"?U:Reflect.ownKeys)(n).forEach(function(t){ce(e,t,n[t])})}var Dt=Object.defineProperty;function ce(e,n,t,r){Dt(e,n,G(t&&H(t,"get")&&typeof t.get=="function"?{get:t.get,set:t.set,configurable:!0}:{value:t,configurable:!0,writable:!0},r))}function Ie(e){return{from:function(n){return e.prototype=Object.create(n.prototype),ce(e.prototype,"constructor",e),{extend:Ce.bind(null,e.prototype)}}}}var kr=Object.getOwnPropertyDescriptor;function Tt(e,n){var t=kr(e,n),r;return t||(r=Te(e))&&Tt(r,n)}var Or=[].slice;function on(e,n,t){return Or.call(e,n,t)}function Ct(e,n){return n(e)}function We(e){if(!e)throw new Error("Assertion Failed")}function It(e){N.setImmediate?__setImmediate$(e):setTimeout(e,0)}function Pr(e,n){return e.reduce(function(t,r,i){var a=n(r,i);return a&&(t[a[0]]=a[1]),t},{})}function ae(e,n){if(typeof n=="string"&&H(e,n))return e[n];if(!n)return e;if(typeof n!="string"){for(var t=[],r=0,i=n.length;r<i;++r){var a=ae(e,n[r]);t.push(a)}return t}var u=n.indexOf(".");if(u!==-1){var o=e[n.substr(0,u)];return o==null?void 0:ae(o,n.substr(u+1))}}function X(e,n,t){if(!(!e||n===void 0)&&!("isFrozen"in Object&&Object.isFrozen(e)))if(typeof n!="string"&&"length"in n){We(typeof t!="string"&&"length"in t);for(var r=0,i=n.length;r<i;++r)X(e,n[r],t[r])}else{var a=n.indexOf(".");if(a!==-1){var u=n.substr(0,a),o=n.substr(a+1);if(o==="")t===void 0?L(e)&&!isNaN(parseInt(u))?e.splice(u,1):delete e[u]:e[u]=t;else{var s=e[u];(!s||!H(e,u))&&(s=e[u]={}),X(s,o,t)}}else t===void 0?L(e)&&!isNaN(parseInt(n))?e.splice(n,1):delete e[n]:e[n]=t}}function Dr(e,n){typeof n=="string"?X(e,n,void 0):"length"in n&&[].map.call(n,function(t){X(e,t,void 0)})}function Rt(e){var n={};for(var t in e)H(e,t)&&(n[t]=e[t]);return n}var Tr=[].concat;function Bt(e){return Tr.apply([],e)}var Cr="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Bt([8,16,32,64].map(function(e){return["Int","Uint","Float"].map(function(n){return n+e+"Array"})}))).filter(function(e){return N[e]}),Mt=new Set(Cr.map(function(e){return N[e]}));function Ft(e){var n={};for(var t in e)if(H(e,t)){var r=e[t];n[t]=!r||typeof r!="object"||Mt.has(r.constructor)?r:Ft(r)}return n}function Ir(e){for(var n in e)if(H(e,n))return!1;return!0}var Ue=null;function _e(e){Ue=new WeakMap;var n=Fn(e);return Ue=null,n}function Fn(e){if(!e||typeof e!="object")return e;var n=Ue.get(e);if(n)return n;if(L(e)){n=[],Ue.set(e,n);for(var t=0,r=e.length;t<r;++t)n.push(Fn(e[t]))}else if(Mt.has(e.constructor))n=e;else{var i=Te(e);n=i===Object.prototype?{}:Object.create(i),Ue.set(e,n);for(var a in e)H(e,a)&&(n[a]=Fn(e[a]))}return n}var Rr={}.toString;function jn(e){return Rr.call(e).slice(8,-1)}var Nn=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Br=typeof Nn=="symbol"?function(e){var n;return e!=null&&(n=e[Nn])&&n.apply(e)}:function(){return null};function xe(e,n){var t=e.indexOf(n);return t>=0&&e.splice(t,1),t>=0}var Re={};function ue(e){var n,t,r,i;if(arguments.length===1){if(L(e))return e.slice();if(this===Re&&typeof e=="string")return[e];if(i=Br(e)){for(t=[];r=i.next(),!r.done;)t.push(r.value);return t}if(e==null)return[e];if(n=e.length,typeof n=="number"){for(t=new Array(n);n--;)t[n]=e[n];return t}return[e]}for(n=arguments.length,t=new Array(n);n--;)t[n]=arguments[n];return t}var Ln=typeof Symbol<"u"?function(e){return e[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Mr=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"],jt=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Vn=Mr.concat(jt),Fr={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Be(e,n){this.name=e,this.message=n}Ie(Be).from(Error).extend({toString:function(){return this.name+": "+this.message}});function Nt(e,n){return e+". Errors: "+Object.keys(n).map(function(t){return n[t].toString()}).filter(function(t,r,i){return i.indexOf(t)===r}).join(`
`)}function sn(e,n,t,r){this.failures=n,this.failedKeys=r,this.successCount=t,this.message=Nt(e,n)}Ie(sn).from(Be);function Me(e,n){this.name="BulkError",this.failures=Object.keys(n).map(function(t){return n[t]}),this.failuresByPos=n,this.message=Nt(e,this.failures)}Ie(Me).from(Be);var zn=Vn.reduce(function(e,n){return e[n]=n+"Error",e},{}),jr=Be,O=Vn.reduce(function(e,n){var t=n+"Error";function r(i,a){this.name=t,i?typeof i=="string"?(this.message="".concat(i).concat(a?`
 `+a:""),this.inner=a||null):typeof i=="object"&&(this.message="".concat(i.name," ").concat(i.message),this.inner=i):(this.message=Fr[n]||t,this.inner=null)}return Ie(r).from(jr),e[n]=r,e},{});O.Syntax=SyntaxError,O.Type=TypeError,O.Range=RangeError;var Lt=jt.reduce(function(e,n){return e[n+"Error"]=O[n],e},{});function Nr(e,n){if(!e||e instanceof Be||e instanceof TypeError||e instanceof SyntaxError||!e.name||!Lt[e.name])return e;var t=new Lt[e.name](n||e.message,e);return"stack"in e&&ce(t,"stack",{get:function(){return this.inner.stack}}),t}var cn=Vn.reduce(function(e,n){return["Syntax","Type","Range"].indexOf(n)===-1&&(e[n+"Error"]=O[n]),e},{});cn.ModifyError=sn,cn.DexieError=Be,cn.BulkError=Me;function M(){}function $e(e){return e}function Lr(e,n){return e==null||e===$e?n:function(t){return n(e(t))}}function Ee(e,n){return function(){e.apply(this,arguments),n.apply(this,arguments)}}function Vr(e,n){return e===M?n:function(){var t=e.apply(this,arguments);t!==void 0&&(arguments[0]=t);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var a=n.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?Ee(r,this.onsuccess):r),i&&(this.onerror=this.onerror?Ee(i,this.onerror):i),a!==void 0?a:t}}function zr(e,n){return e===M?n:function(){e.apply(this,arguments);var t=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,n.apply(this,arguments),t&&(this.onsuccess=this.onsuccess?Ee(t,this.onsuccess):t),r&&(this.onerror=this.onerror?Ee(r,this.onerror):r)}}function Wr(e,n){return e===M?n:function(t){var r=e.apply(this,arguments);G(t,r);var i=this.onsuccess,a=this.onerror;this.onsuccess=null,this.onerror=null;var u=n.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?Ee(i,this.onsuccess):i),a&&(this.onerror=this.onerror?Ee(a,this.onerror):a),r===void 0?u===void 0?void 0:u:G(r,u)}}function Ur(e,n){return e===M?n:function(){return n.apply(this,arguments)===!1?!1:e.apply(this,arguments)}}function Wn(e,n){return e===M?n:function(){var t=e.apply(this,arguments);if(t&&typeof t.then=="function"){for(var r=this,i=arguments.length,a=new Array(i);i--;)a[i]=arguments[i];return t.then(function(){return n.apply(r,a)})}return n.apply(this,arguments)}}var ne=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Vt(e,n){ne=e}var Ye={},zt=100,Un=typeof Promise>"u"?[]:function(){var e=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[e,Te(e),e];var n=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[n,Te(n),e]}(),Wt=Un[0],Ut=Un[1],$r=Un[2],Yr=Ut&&Ut.then,Qe=Wt&&Wt.constructor,$n=!!$r;function Qr(){queueMicrotask(Gr)}var He=function(e,n){Ge.push([e,n]),ln&&(Qr(),ln=!1)},Yn=!0,ln=!0,Se=[],fn=[],Qn=$e,le={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:M,pgp:!1,env:{},finalize:M},k=le,Ge=[],Ke=0,hn=[];function E(e){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var n=this._PSD=k;if(typeof e!="function"){if(e!==Ye)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&Gn(this,this._value);return}this._state=null,this._value=null,++n.ref,Yt(this,e)}var Hn={get:function(){var e=k,n=yn;function t(r,i){var a=this,u=!e.global&&(e!==k||n!==yn),o=u&&!he(),s=new E(function(c,h){Xn(a,new $t(Gt(r,e,u,o),Gt(i,e,u,o),c,h,e))});return this._consoleTask&&(s._consoleTask=this._consoleTask),s}return t.prototype=Ye,t},set:function(e){ce(this,"then",e&&e.prototype===Ye?Hn:{get:function(){return e},set:Hn.set})}};Ce(E.prototype,{then:Hn,_then:function(e,n){Xn(this,new $t(null,null,e,n,k))},catch:function(e){if(arguments.length===1)return this.then(null,e);var n=arguments[0],t=arguments[1];return typeof n=="function"?this.then(null,function(r){return r instanceof n?t(r):dn(r)}):this.then(null,function(r){return r&&r.name===n?t(r):dn(r)})},finally:function(e){return this.then(function(n){return E.resolve(e()).then(function(){return n})},function(n){return E.resolve(e()).then(function(){return dn(n)})})},timeout:function(e,n){var t=this;return e<1/0?new E(function(r,i){var a=setTimeout(function(){return i(new O.Timeout(n))},e);t.then(r,i).finally(clearTimeout.bind(null,a))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&ce(E.prototype,Symbol.toStringTag,"Dexie.Promise"),le.env=Ht();function $t(e,n,t,r,i){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof n=="function"?n:null,this.resolve=t,this.reject=r,this.psd=i}Ce(E,{all:function(){var e=ue.apply(null,arguments).map(mn);return new E(function(n,t){e.length===0&&n([]);var r=e.length;e.forEach(function(i,a){return E.resolve(i).then(function(u){e[a]=u,--r||n(e)},t)})})},resolve:function(e){if(e instanceof E)return e;if(e&&typeof e.then=="function")return new E(function(t,r){e.then(t,r)});var n=new E(Ye,!0,e);return n},reject:dn,race:function(){var e=ue.apply(null,arguments).map(mn);return new E(function(n,t){e.map(function(r){return E.resolve(r).then(n,t)})})},PSD:{get:function(){return k},set:function(e){return k=e}},totalEchoes:{get:function(){return yn}},newPSD:fe,usePSD:Ae,scheduler:{get:function(){return He},set:function(e){He=e}},rejectionMapper:{get:function(){return Qn},set:function(e){Qn=e}},follow:function(e,n){return new E(function(t,r){return fe(function(i,a){var u=k;u.unhandleds=[],u.onunhandled=a,u.finalize=Ee(function(){var o=this;Xr(function(){o.unhandleds.length===0?i():a(o.unhandleds[0])})},u.finalize),e()},n,t,r)})}}),Qe&&(Qe.allSettled&&ce(E,"allSettled",function(){var e=ue.apply(null,arguments).map(mn);return new E(function(n){e.length===0&&n([]);var t=e.length,r=new Array(t);e.forEach(function(i,a){return E.resolve(i).then(function(u){return r[a]={status:"fulfilled",value:u}},function(u){return r[a]={status:"rejected",reason:u}}).then(function(){return--t||n(r)})})})}),Qe.any&&typeof AggregateError<"u"&&ce(E,"any",function(){var e=ue.apply(null,arguments).map(mn);return new E(function(n,t){e.length===0&&t(new AggregateError([]));var r=e.length,i=new Array(r);e.forEach(function(a,u){return E.resolve(a).then(function(o){return n(o)},function(o){i[u]=o,--r||t(new AggregateError(i))})})})}));function Yt(e,n){try{n(function(t){if(e._state===null){if(t===e)throw new TypeError("A promise cannot be resolved with itself.");var r=e._lib&&Fe();t&&typeof t.then=="function"?Yt(e,function(i,a){t instanceof E?t._then(i,a):t.then(i,a)}):(e._state=!0,e._value=t,Qt(e)),r&&je()}},Gn.bind(null,e))}catch(t){Gn(e,t)}}function Gn(e,n){if(fn.push(n),e._state===null){var t=e._lib&&Fe();n=Qn(n),e._state=!1,e._value=n,Jr(e),Qt(e),t&&je()}}function Qt(e){var n=e._listeners;e._listeners=[];for(var t=0,r=n.length;t<r;++t)Xn(e,n[t]);var i=e._PSD;--i.ref||i.finalize(),Ke===0&&(++Ke,He(function(){--Ke===0&&Jn()},[]))}function Xn(e,n){if(e._state===null){e._listeners.push(n);return}var t=e._state?n.onFulfilled:n.onRejected;if(t===null)return(e._state?n.resolve:n.reject)(e._value);++n.psd.ref,++Ke,He(Hr,[t,e,n])}function Hr(e,n,t){try{var r,i=n._value;!n._state&&fn.length&&(fn=[]),r=ne&&n._consoleTask?n._consoleTask.run(function(){return e(i)}):e(i),!n._state&&fn.indexOf(i)===-1&&Zr(n),t.resolve(r)}catch(a){t.reject(a)}finally{--Ke===0&&Jn(),--t.psd.ref||t.psd.finalize()}}function Gr(){Ae(le,function(){Fe()&&je()})}function Fe(){var e=Yn;return Yn=!1,ln=!1,e}function je(){var e,n,t;do for(;Ge.length>0;)for(e=Ge,Ge=[],t=e.length,n=0;n<t;++n){var r=e[n];r[0].apply(null,r[1])}while(Ge.length>0);Yn=!0,ln=!0}function Jn(){var e=Se;Se=[],e.forEach(function(r){r._PSD.onunhandled.call(null,r._value,r)});for(var n=hn.slice(0),t=n.length;t;)n[--t]()}function Xr(e){function n(){e(),hn.splice(hn.indexOf(n),1)}hn.push(n),++Ke,He(function(){--Ke===0&&Jn()},[])}function Jr(e){Se.some(function(n){return n._value===e._value})||Se.push(e)}function Zr(e){for(var n=Se.length;n;)if(Se[--n]._value===e._value){Se.splice(n,1);return}}function dn(e){return new E(Ye,!1,e)}function j(e,n){var t=k;return function(){var r=Fe(),i=k;try{return de(t,!0),e.apply(this,arguments)}catch(a){n&&n(a)}finally{de(i,!1),r&&je()}}}var $={awaits:0,echoes:0,id:0},qr=0,vn=[],pn=0,yn=0,ei=0;function fe(e,n,t,r){var i=k,a=Object.create(i);a.parent=i,a.ref=0,a.global=!1,a.id=++ei,le.env,a.env=$n?{Promise:E,PromiseProp:{value:E,configurable:!0,writable:!0},all:E.all,race:E.race,allSettled:E.allSettled,any:E.any,resolve:E.resolve,reject:E.reject}:{},n&&G(a,n),++i.ref,a.finalize=function(){--this.parent.ref||this.parent.finalize()};var u=Ae(a,e,t,r);return a.ref===0&&a.finalize(),u}function Ne(){return $.id||($.id=++qr),++$.awaits,$.echoes+=zt,$.id}function he(){return $.awaits?(--$.awaits===0&&($.id=0),$.echoes=$.awaits*zt,!0):!1}(""+Yr).indexOf("[native code]")===-1&&(Ne=he=M);function mn(e){return $.echoes&&e&&e.constructor===Qe?(Ne(),e.then(function(n){return he(),n},function(n){return he(),V(n)})):e}function ni(e){++yn,(!$.echoes||--$.echoes===0)&&($.echoes=$.awaits=$.id=0),vn.push(k),de(e,!0)}function ti(){var e=vn[vn.length-1];vn.pop(),de(e,!1)}function de(e,n){var t=k;if((n?$.echoes&&(!pn++||e!==k):pn&&(!--pn||e!==k))&&queueMicrotask(n?ni.bind(null,e):ti),e!==k&&(k=e,t===le&&(le.env=Ht()),$n)){var r=le.env.Promise,i=e.env;(t.global||e.global)&&(Object.defineProperty(N,"Promise",i.PromiseProp),r.all=i.all,r.race=i.race,r.resolve=i.resolve,r.reject=i.reject,i.allSettled&&(r.allSettled=i.allSettled),i.any&&(r.any=i.any))}}function Ht(){var e=N.Promise;return $n?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(N,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject}:{}}function Ae(e,n,t,r,i){var a=k;try{return de(e,!0),n(t,r,i)}finally{de(a,!1)}}function Gt(e,n,t,r){return typeof e!="function"?e:function(){var i=k;t&&Ne(),de(n,!0);try{return e.apply(this,arguments)}finally{de(i,!1),r&&queueMicrotask(he)}}}function Zn(e){Promise===Qe&&$.echoes===0?pn===0?e():enqueueNativeMicroTask(e):setTimeout(e,0)}var V=E.reject;function qn(e,n,t,r){if(!e.idbdb||!e._state.openComplete&&!k.letThrough&&!e._vip){if(e._state.openComplete)return V(new O.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._state.autoOpen)return V(new O.DatabaseClosed);e.open().catch(M)}return e._state.dbReadyPromise.then(function(){return qn(e,n,t,r)})}else{var i=e._createTransaction(n,t,e._dbSchema);try{i.create(),e._state.PR1398_maxLoop=3}catch(a){return a.name===zn.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e.close({disableAutoOpen:!1}),e.open().then(function(){return qn(e,n,t,r)})):V(a)}return i._promise(n,function(a,u){return fe(function(){return k.trans=i,r(a,u,i)})}).then(function(a){if(n==="readwrite")try{i.idbtrans.commit()}catch{}return n==="readonly"?a:i._completion.then(function(){return a})})}}var Xt="4.0.8",ke="\uFFFF",et=-1/0,oe="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Jt="String expected.",Le=[],gn="__dbnames",nt="readonly",tt="readwrite";function Oe(e,n){return e?n?function(){return e.apply(this,arguments)&&n.apply(this,arguments)}:e:n}var Zt={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function bn(e){return typeof e=="string"&&!/\./.test(e)?function(n){return n[e]===void 0&&e in n&&(n=_e(n),delete n[e]),n}:function(n){return n}}function qt(){throw O.Type()}function B(e,n){try{var t=er(e),r=er(n);if(t!==r)return t==="Array"?1:r==="Array"?-1:t==="binary"?1:r==="binary"?-1:t==="string"?1:r==="string"?-1:t==="Date"?1:r!=="Date"?NaN:-1;switch(t){case"number":case"Date":case"string":return e>n?1:e<n?-1:0;case"binary":return ii(nr(e),nr(n));case"Array":return ri(e,n)}}catch{}return NaN}function ri(e,n){for(var t=e.length,r=n.length,i=t<r?t:r,a=0;a<i;++a){var u=B(e[a],n[a]);if(u!==0)return u}return t===r?0:t<r?-1:1}function ii(e,n){for(var t=e.length,r=n.length,i=t<r?t:r,a=0;a<i;++a)if(e[a]!==n[a])return e[a]<n[a]?-1:1;return t===r?0:t<r?-1:1}function er(e){var n=typeof e;if(n!=="object")return n;if(ArrayBuffer.isView(e))return"binary";var t=jn(e);return t==="ArrayBuffer"?"binary":t}function nr(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}var tr=function(){function e(){}return e.prototype._trans=function(n,t,r){var i=this._tx||k.trans,a=this.name,u=ne&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(n==="readonly"?"read":"write"," ").concat(this.name));function o(h,l,v){if(!v.schema[a])throw new O.NotFound("Table "+a+" not part of transaction");return t(v.idbtrans,v)}var s=Fe();try{var c=i&&i.db._novip===this.db._novip?i===k.trans?i._promise(n,o,r):fe(function(){return i._promise(n,o,r)},{trans:i,transless:k.transless||k}):qn(this.db,n,[this.name],o);return u&&(c._consoleTask=u,c=c.catch(function(h){return console.trace(h),V(h)})),c}finally{s&&je()}},e.prototype.get=function(n,t){var r=this;return n&&n.constructor===Object?this.where(n).first(t):n==null?V(new O.Type("Invalid argument to Table.get()")):this._trans("readonly",function(i){return r.core.get({trans:i,key:n}).then(function(a){return r.hook.reading.fire(a)})}).then(t)},e.prototype.where=function(n){if(typeof n=="string")return new this.db.WhereClause(this,n);if(L(n))return new this.db.WhereClause(this,"[".concat(n.join("+"),"]"));var t=U(n);if(t.length===1)return this.where(t[0]).equals(n[t[0]]);var r=this.schema.indexes.concat(this.schema.primKey).filter(function(l){if(l.compound&&t.every(function(_){return l.keyPath.indexOf(_)>=0})){for(var v=0;v<t.length;++v)if(t.indexOf(l.keyPath[v])===-1)return!1;return!0}return!1}).sort(function(l,v){return l.keyPath.length-v.keyPath.length})[0];if(r&&this.db._maxKey!==ke){var i=r.keyPath.slice(0,t.length);return this.where(i).equals(i.map(function(l){return n[l]}))}!r&&ne&&console.warn("The query ".concat(JSON.stringify(n)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(t.join("+"),"]"));var a=this.schema.idxByName,u=this.db._deps.indexedDB;function o(l,v){return u.cmp(l,v)===0}var s=t.reduce(function(l,v){var _=l[0],f=l[1],d=a[v],p=n[v];return[_||d,_||!d?Oe(f,d&&d.multi?function(y){var m=ae(y,v);return L(m)&&m.some(function(b){return o(p,b)})}:function(y){return o(p,ae(y,v))}):f]},[null,null]),c=s[0],h=s[1];return c?this.where(c.name).equals(n[c.keyPath]).filter(h):r?this.filter(h):this.where(t).equals("")},e.prototype.filter=function(n){return this.toCollection().and(n)},e.prototype.count=function(n){return this.toCollection().count(n)},e.prototype.offset=function(n){return this.toCollection().offset(n)},e.prototype.limit=function(n){return this.toCollection().limit(n)},e.prototype.each=function(n){return this.toCollection().each(n)},e.prototype.toArray=function(n){return this.toCollection().toArray(n)},e.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},e.prototype.orderBy=function(n){return new this.db.Collection(new this.db.WhereClause(this,L(n)?"[".concat(n.join("+"),"]"):n))},e.prototype.reverse=function(){return this.toCollection().reverse()},e.prototype.mapToClass=function(n){var t=this,r=t.db,i=t.name;this.schema.mappedClass=n,n.prototype instanceof qt&&(n=function(s){W(c,s);function c(){return s!==null&&s.apply(this,arguments)||this}return Object.defineProperty(c.prototype,"db",{get:function(){return r},enumerable:!1,configurable:!0}),c.prototype.table=function(){return i},c}(n));for(var a=new Set,u=n.prototype;u;u=Te(u))Object.getOwnPropertyNames(u).forEach(function(s){return a.add(s)});var o=function(s){if(!s)return s;var c=Object.create(n.prototype);for(var h in s)if(!a.has(h))try{c[h]=s[h]}catch{}return c};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=o,this.hook("reading",o),n},e.prototype.defineClass=function(){function n(t){G(this,t)}return this.mapToClass(n)},e.prototype.add=function(n,t){var r=this,i=this.schema.primKey,a=i.auto,u=i.keyPath,o=n;return u&&a&&(o=bn(u)(n)),this._trans("readwrite",function(s){return r.core.mutate({trans:s,type:"add",keys:t!=null?[t]:null,values:[o]})}).then(function(s){return s.numFailures?E.reject(s.failures[0]):s.lastResult}).then(function(s){if(u)try{X(n,u,s)}catch{}return s})},e.prototype.update=function(n,t){if(typeof n=="object"&&!L(n)){var r=ae(n,this.schema.primKey.keyPath);return r===void 0?V(new O.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(r).modify(t)}else return this.where(":id").equals(n).modify(t)},e.prototype.put=function(n,t){var r=this,i=this.schema.primKey,a=i.auto,u=i.keyPath,o=n;return u&&a&&(o=bn(u)(n)),this._trans("readwrite",function(s){return r.core.mutate({trans:s,type:"put",values:[o],keys:t!=null?[t]:null})}).then(function(s){return s.numFailures?E.reject(s.failures[0]):s.lastResult}).then(function(s){if(u)try{X(n,u,s)}catch{}return s})},e.prototype.delete=function(n){var t=this;return this._trans("readwrite",function(r){return t.core.mutate({trans:r,type:"delete",keys:[n]})}).then(function(r){return r.numFailures?E.reject(r.failures[0]):void 0})},e.prototype.clear=function(){var n=this;return this._trans("readwrite",function(t){return n.core.mutate({trans:t,type:"deleteRange",range:Zt})}).then(function(t){return t.numFailures?E.reject(t.failures[0]):void 0})},e.prototype.bulkGet=function(n){var t=this;return this._trans("readonly",function(r){return t.core.getMany({keys:n,trans:r}).then(function(i){return i.map(function(a){return t.hook.reading.fire(a)})})})},e.prototype.bulkAdd=function(n,t,r){var i=this,a=Array.isArray(t)?t:void 0;r=r||(a?void 0:t);var u=r?r.allKeys:void 0;return this._trans("readwrite",function(o){var s=i.schema.primKey,c=s.auto,h=s.keyPath;if(h&&a)throw new O.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(a&&a.length!==n.length)throw new O.InvalidArgument("Arguments objects and keys must have the same length");var l=n.length,v=h&&c?n.map(bn(h)):n;return i.core.mutate({trans:o,type:"add",keys:a,values:v,wantResults:u}).then(function(_){var f=_.numFailures,d=_.results,p=_.lastResult,y=_.failures,m=u?d:p;if(f===0)return m;throw new Me("".concat(i.name,".bulkAdd(): ").concat(f," of ").concat(l," operations failed"),y)})})},e.prototype.bulkPut=function(n,t,r){var i=this,a=Array.isArray(t)?t:void 0;r=r||(a?void 0:t);var u=r?r.allKeys:void 0;return this._trans("readwrite",function(o){var s=i.schema.primKey,c=s.auto,h=s.keyPath;if(h&&a)throw new O.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(a&&a.length!==n.length)throw new O.InvalidArgument("Arguments objects and keys must have the same length");var l=n.length,v=h&&c?n.map(bn(h)):n;return i.core.mutate({trans:o,type:"put",keys:a,values:v,wantResults:u}).then(function(_){var f=_.numFailures,d=_.results,p=_.lastResult,y=_.failures,m=u?d:p;if(f===0)return m;throw new Me("".concat(i.name,".bulkPut(): ").concat(f," of ").concat(l," operations failed"),y)})})},e.prototype.bulkUpdate=function(n){var t=this,r=this.core,i=n.map(function(o){return o.key}),a=n.map(function(o){return o.changes}),u=[];return this._trans("readwrite",function(o){return r.getMany({trans:o,keys:i,cache:"clone"}).then(function(s){var c=[],h=[];n.forEach(function(v,_){var f=v.key,d=v.changes,p=s[_];if(p){for(var y=0,m=Object.keys(d);y<m.length;y++){var b=m[y],w=d[b];if(b===t.schema.primKey.keyPath){if(B(w,f)!==0)throw new O.Constraint("Cannot update primary key in bulkUpdate()")}else X(p,b,w)}u.push(_),c.push(f),h.push(p)}});var l=c.length;return r.mutate({trans:o,type:"put",keys:c,values:h,updates:{keys:i,changeSpecs:a}}).then(function(v){var _=v.numFailures,f=v.failures;if(_===0)return l;for(var d=0,p=Object.keys(f);d<p.length;d++){var y=p[d],m=u[Number(y)];if(m!=null){var b=f[y];delete f[y],f[m]=b}}throw new Me("".concat(t.name,".bulkUpdate(): ").concat(_," of ").concat(l," operations failed"),f)})})})},e.prototype.bulkDelete=function(n){var t=this,r=n.length;return this._trans("readwrite",function(i){return t.core.mutate({trans:i,type:"delete",keys:n})}).then(function(i){var a=i.numFailures,u=i.lastResult,o=i.failures;if(a===0)return u;throw new Me("".concat(t.name,".bulkDelete(): ").concat(a," of ").concat(r," operations failed"),o)})},e}();function Xe(e){var n={},t=function(o,s){if(s){for(var c=arguments.length,h=new Array(c-1);--c;)h[c-1]=arguments[c];return n[o].subscribe.apply(null,h),e}else if(typeof o=="string")return n[o]};t.addEventType=a;for(var r=1,i=arguments.length;r<i;++r)a(arguments[r]);return t;function a(o,s,c){if(typeof o=="object")return u(o);s||(s=Ur),c||(c=M);var h={subscribers:[],fire:c,subscribe:function(l){h.subscribers.indexOf(l)===-1&&(h.subscribers.push(l),h.fire=s(h.fire,l))},unsubscribe:function(l){h.subscribers=h.subscribers.filter(function(v){return v!==l}),h.fire=h.subscribers.reduce(s,c)}};return n[o]=t[o]=h,h}function u(o){U(o).forEach(function(s){var c=o[s];if(L(c))a(s,o[s][0],o[s][1]);else if(c==="asap")var h=a(s,$e,function(){for(var v=arguments.length,_=new Array(v);v--;)_[v]=arguments[v];h.subscribers.forEach(function(f){It(function(){f.apply(null,_)})})});else throw new O.InvalidArgument("Invalid event config")})}}function Je(e,n){return Ie(n).from({prototype:e}),n}function ai(e){return Je(tr.prototype,function(t,r,i){this.db=e,this._tx=i,this.name=t,this.schema=r,this.hook=e._allTables[t]?e._allTables[t].hook:Xe(null,{creating:[Vr,M],reading:[Lr,$e],updating:[Wr,M],deleting:[zr,M]})})}function Ve(e,n){return!(e.filter||e.algorithm||e.or)&&(n?e.justLimit:!e.replayFilter)}function rt(e,n){e.filter=Oe(e.filter,n)}function it(e,n,t){var r=e.replayFilter;e.replayFilter=r?function(){return Oe(r(),n())}:n,e.justLimit=t&&!r}function ui(e,n){e.isMatch=Oe(e.isMatch,n)}function wn(e,n){if(e.isPrimKey)return n.primaryKey;var t=n.getIndexByKeyPath(e.index);if(!t)throw new O.Schema("KeyPath "+e.index+" on object store "+n.name+" is not indexed");return t}function rr(e,n,t){var r=wn(e,n.schema);return n.openCursor({trans:t,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:r,range:e.range}})}function _n(e,n,t,r){var i=e.replayFilter?Oe(e.filter,e.replayFilter()):e.filter;if(e.or){var a={},u=function(o,s,c){if(!i||i(s,c,function(v){return s.stop(v)},function(v){return s.fail(v)})){var h=s.primaryKey,l=""+h;l==="[object ArrayBuffer]"&&(l=""+new Uint8Array(h)),H(a,l)||(a[l]=!0,n(o,s,c))}};return Promise.all([e.or._iterate(u,t),ir(rr(e,r,t),e.algorithm,u,!e.keysOnly&&e.valueMapper)])}else return ir(rr(e,r,t),Oe(e.algorithm,i),n,!e.keysOnly&&e.valueMapper)}function ir(e,n,t,r){var i=r?function(u,o,s){return t(r(u),o,s)}:t,a=j(i);return e.then(function(u){if(u)return u.start(function(){var o=function(){return u.continue()};(!n||n(u,function(s){return o=s},function(s){u.stop(s),o=M},function(s){u.fail(s),o=M}))&&a(u.value,u,function(s){return o=s}),o()})})}var oi=Symbol(),Ze=function(){function e(n){Object.assign(this,n)}return e.prototype.execute=function(n){var t;if(this.add!==void 0){var r=this.add;if(L(r))return we(we([],L(n)?n:[],!0),r,!0).sort();if(typeof r=="number")return(Number(n)||0)+r;if(typeof r=="bigint")try{return BigInt(n)+r}catch{return BigInt(0)+r}throw new TypeError("Invalid term ".concat(r))}if(this.remove!==void 0){var i=this.remove;if(L(i))return L(n)?n.filter(function(u){return!i.includes(u)}).sort():[];if(typeof i=="number")return Number(n)-i;if(typeof i=="bigint")try{return BigInt(n)-i}catch{return BigInt(0)-i}throw new TypeError("Invalid subtrahend ".concat(i))}var a=(t=this.replacePrefix)===null||t===void 0?void 0:t[0];return a&&typeof n=="string"&&n.startsWith(a)?this.replacePrefix[1]+n.substring(a.length):n},e}(),si=function(){function e(){}return e.prototype._read=function(n,t){var r=this._ctx;return r.error?r.table._trans(null,V.bind(null,r.error)):r.table._trans("readonly",n).then(t)},e.prototype._write=function(n){var t=this._ctx;return t.error?t.table._trans(null,V.bind(null,t.error)):t.table._trans("readwrite",n,"locked")},e.prototype._addAlgorithm=function(n){var t=this._ctx;t.algorithm=Oe(t.algorithm,n)},e.prototype._iterate=function(n,t){return _n(this._ctx,n,t,this._ctx.table.core)},e.prototype.clone=function(n){var t=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return n&&G(r,n),t._ctx=r,t},e.prototype.raw=function(){return this._ctx.valueMapper=null,this},e.prototype.each=function(n){var t=this._ctx;return this._read(function(r){return _n(t,n,r,t.table.core)})},e.prototype.count=function(n){var t=this;return this._read(function(r){var i=t._ctx,a=i.table.core;if(Ve(i,!0))return a.count({trans:r,query:{index:wn(i,a.schema),range:i.range}}).then(function(o){return Math.min(o,i.limit)});var u=0;return _n(i,function(){return++u,!1},r,a).then(function(){return u})}).then(n)},e.prototype.sortBy=function(n,t){var r=n.split(".").reverse(),i=r[0],a=r.length-1;function u(c,h){return h?u(c[r[h]],h-1):c[i]}var o=this._ctx.dir==="next"?1:-1;function s(c,h){var l=u(c,a),v=u(h,a);return l<v?-o:l>v?o:0}return this.toArray(function(c){return c.sort(s)}).then(t)},e.prototype.toArray=function(n){var t=this;return this._read(function(r){var i=t._ctx;if(i.dir==="next"&&Ve(i,!0)&&i.limit>0){var a=i.valueMapper,u=wn(i,i.table.core.schema);return i.table.core.query({trans:r,limit:i.limit,values:!0,query:{index:u,range:i.range}}).then(function(s){var c=s.result;return a?c.map(a):c})}else{var o=[];return _n(i,function(s){return o.push(s)},r,i.table.core).then(function(){return o})}},n)},e.prototype.offset=function(n){var t=this._ctx;return n<=0?this:(t.offset+=n,Ve(t)?it(t,function(){var r=n;return function(i,a){return r===0?!0:r===1?(--r,!1):(a(function(){i.advance(r),r=0}),!1)}}):it(t,function(){var r=n;return function(){return--r<0}}),this)},e.prototype.limit=function(n){return this._ctx.limit=Math.min(this._ctx.limit,n),it(this._ctx,function(){var t=n;return function(r,i,a){return--t<=0&&i(a),t>=0}},!0),this},e.prototype.until=function(n,t){return rt(this._ctx,function(r,i,a){return n(r.value)?(i(a),t):!0}),this},e.prototype.first=function(n){return this.limit(1).toArray(function(t){return t[0]}).then(n)},e.prototype.last=function(n){return this.reverse().first(n)},e.prototype.filter=function(n){return rt(this._ctx,function(t){return n(t.value)}),ui(this._ctx,n),this},e.prototype.and=function(n){return this.filter(n)},e.prototype.or=function(n){return new this.db.WhereClause(this._ctx.table,n,this)},e.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},e.prototype.desc=function(){return this.reverse()},e.prototype.eachKey=function(n){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(r,i){n(i.key,i)})},e.prototype.eachUniqueKey=function(n){return this._ctx.unique="unique",this.eachKey(n)},e.prototype.eachPrimaryKey=function(n){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(r,i){n(i.primaryKey,i)})},e.prototype.keys=function(n){var t=this._ctx;t.keysOnly=!t.isMatch;var r=[];return this.each(function(i,a){r.push(a.key)}).then(function(){return r}).then(n)},e.prototype.primaryKeys=function(n){var t=this._ctx;if(t.dir==="next"&&Ve(t,!0)&&t.limit>0)return this._read(function(i){var a=wn(t,t.table.core.schema);return t.table.core.query({trans:i,values:!1,limit:t.limit,query:{index:a,range:t.range}})}).then(function(i){var a=i.result;return a}).then(n);t.keysOnly=!t.isMatch;var r=[];return this.each(function(i,a){r.push(a.primaryKey)}).then(function(){return r}).then(n)},e.prototype.uniqueKeys=function(n){return this._ctx.unique="unique",this.keys(n)},e.prototype.firstKey=function(n){return this.limit(1).keys(function(t){return t[0]}).then(n)},e.prototype.lastKey=function(n){return this.reverse().firstKey(n)},e.prototype.distinct=function(){var n=this._ctx,t=n.index&&n.table.schema.idxByName[n.index];if(!t||!t.multi)return this;var r={};return rt(this._ctx,function(i){var a=i.primaryKey.toString(),u=H(r,a);return r[a]=!0,!u}),this},e.prototype.modify=function(n){var t=this,r=this._ctx;return this._write(function(i){var a;if(typeof n=="function")a=n;else{var u=U(n),o=u.length;a=function(y){for(var m=!1,b=0;b<o;++b){var w=u[b],g=n[w],x=ae(y,w);g instanceof Ze?(X(y,w,g.execute(x)),m=!0):x!==g&&(X(y,w,g),m=!0)}return m}}var s=r.table.core,c=s.schema.primaryKey,h=c.outbound,l=c.extractKey,v=t.db._options.modifyChunkSize||200,_=[],f=0,d=[],p=function(y,m){var b=m.failures,w=m.numFailures;f+=y-w;for(var g=0,x=U(b);g<x.length;g++){var S=x[g];_.push(b[S])}};return t.clone().primaryKeys().then(function(y){var m=Ve(r)&&r.limit===1/0&&(typeof n!="function"||n===at)&&{index:r.index,range:r.range},b=function(w){var g=Math.min(v,y.length-w);return s.getMany({trans:i,keys:y.slice(w,w+g),cache:"immutable"}).then(function(x){for(var S=[],K=[],T=h?[]:null,A=[],P=0;P<g;++P){var R=x[P],I={value:_e(R),primKey:y[w+P]};a.call(I,I.value,I)!==!1&&(I.value==null?A.push(y[w+P]):!h&&B(l(R),l(I.value))!==0?(A.push(y[w+P]),S.push(I.value)):(K.push(I.value),h&&T.push(y[w+P])))}return Promise.resolve(S.length>0&&s.mutate({trans:i,type:"add",values:S}).then(function(F){for(var D in F.failures)A.splice(parseInt(D),1);p(S.length,F)})).then(function(){return(K.length>0||m&&typeof n=="object")&&s.mutate({trans:i,type:"put",keys:T,values:K,criteria:m,changeSpec:typeof n!="function"&&n,isAdditionalChunk:w>0}).then(function(F){return p(K.length,F)})}).then(function(){return(A.length>0||m&&n===at)&&s.mutate({trans:i,type:"delete",keys:A,criteria:m,isAdditionalChunk:w>0}).then(function(F){return p(A.length,F)})}).then(function(){return y.length>w+g&&b(w+v)})})};return b(0).then(function(){if(_.length>0)throw new sn("Error modifying one or more objects",_,f,d);return y.length})})})},e.prototype.delete=function(){var n=this._ctx,t=n.range;return Ve(n)&&(n.isPrimKey||t.type===3)?this._write(function(r){var i=n.table.core.schema.primaryKey,a=t;return n.table.core.count({trans:r,query:{index:i,range:a}}).then(function(u){return n.table.core.mutate({trans:r,type:"deleteRange",range:a}).then(function(o){var s=o.failures;o.lastResult,o.results;var c=o.numFailures;if(c)throw new sn("Could not delete some values",Object.keys(s).map(function(h){return s[h]}),u-c);return u-c})})}):this.modify(at)},e}(),at=function(e,n){return n.value=null};function ci(e){return Je(si.prototype,function(t,r){this.db=e;var i=Zt,a=null;if(r)try{i=r()}catch(c){a=c}var u=t._ctx,o=u.table,s=o.hook.reading.fire;this._ctx={table:o,index:u.index,isPrimKey:!u.index||o.schema.primKey.keyPath&&u.index===o.schema.primKey.name,range:i,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:a,or:u.or,valueMapper:s!==$e?s:null}})}function li(e,n){return e<n?-1:e===n?0:1}function fi(e,n){return e>n?-1:e===n?0:1}function J(e,n,t){var r=e instanceof ur?new e.Collection(e):e;return r._ctx.error=t?new t(n):new TypeError(n),r}function ze(e){return new e.Collection(e,function(){return ar("")}).limit(0)}function hi(e){return e==="next"?function(n){return n.toUpperCase()}:function(n){return n.toLowerCase()}}function di(e){return e==="next"?function(n){return n.toLowerCase()}:function(n){return n.toUpperCase()}}function vi(e,n,t,r,i,a){for(var u=Math.min(e.length,r.length),o=-1,s=0;s<u;++s){var c=n[s];if(c!==r[s])return i(e[s],t[s])<0?e.substr(0,s)+t[s]+t.substr(s+1):i(e[s],r[s])<0?e.substr(0,s)+r[s]+t.substr(s+1):o>=0?e.substr(0,o)+n[o]+t.substr(o+1):null;i(e[s],c)<0&&(o=s)}return u<r.length&&a==="next"?e+t.substr(e.length):u<e.length&&a==="prev"?e.substr(0,t.length):o<0?null:e.substr(0,o)+r[o]+t.substr(o+1)}function xn(e,n,t,r){var i,a,u,o,s,c,h,l=t.length;if(!t.every(function(d){return typeof d=="string"}))return J(e,Jt);function v(d){i=hi(d),a=di(d),u=d==="next"?li:fi;var p=t.map(function(y){return{lower:a(y),upper:i(y)}}).sort(function(y,m){return u(y.lower,m.lower)});o=p.map(function(y){return y.upper}),s=p.map(function(y){return y.lower}),c=d,h=d==="next"?"":r}v("next");var _=new e.Collection(e,function(){return ve(o[0],s[l-1]+r)});_._ondirectionchange=function(d){v(d)};var f=0;return _._addAlgorithm(function(d,p,y){var m=d.key;if(typeof m!="string")return!1;var b=a(m);if(n(b,s,f))return!0;for(var w=null,g=f;g<l;++g){var x=vi(m,b,o[g],s[g],u,c);x===null&&w===null?f=g+1:(w===null||u(w,x)>0)&&(w=x)}return p(w!==null?function(){d.continue(w+h)}:y),!1}),_}function ve(e,n,t,r){return{type:2,lower:e,upper:n,lowerOpen:t,upperOpen:r}}function ar(e){return{type:1,lower:e,upper:e}}var ur=function(){function e(){}return Object.defineProperty(e.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),e.prototype.between=function(n,t,r,i){r=r!==!1,i=i===!0;try{return this._cmp(n,t)>0||this._cmp(n,t)===0&&(r||i)&&!(r&&i)?ze(this):new this.Collection(this,function(){return ve(n,t,!r,!i)})}catch{return J(this,oe)}},e.prototype.equals=function(n){return n==null?J(this,oe):new this.Collection(this,function(){return ar(n)})},e.prototype.above=function(n){return n==null?J(this,oe):new this.Collection(this,function(){return ve(n,void 0,!0)})},e.prototype.aboveOrEqual=function(n){return n==null?J(this,oe):new this.Collection(this,function(){return ve(n,void 0,!1)})},e.prototype.below=function(n){return n==null?J(this,oe):new this.Collection(this,function(){return ve(void 0,n,!1,!0)})},e.prototype.belowOrEqual=function(n){return n==null?J(this,oe):new this.Collection(this,function(){return ve(void 0,n)})},e.prototype.startsWith=function(n){return typeof n!="string"?J(this,Jt):this.between(n,n+ke,!0,!0)},e.prototype.startsWithIgnoreCase=function(n){return n===""?this.startsWith(n):xn(this,function(t,r){return t.indexOf(r[0])===0},[n],ke)},e.prototype.equalsIgnoreCase=function(n){return xn(this,function(t,r){return t===r[0]},[n],"")},e.prototype.anyOfIgnoreCase=function(){var n=ue.apply(Re,arguments);return n.length===0?ze(this):xn(this,function(t,r){return r.indexOf(t)!==-1},n,"")},e.prototype.startsWithAnyOfIgnoreCase=function(){var n=ue.apply(Re,arguments);return n.length===0?ze(this):xn(this,function(t,r){return r.some(function(i){return t.indexOf(i)===0})},n,ke)},e.prototype.anyOf=function(){var n=this,t=ue.apply(Re,arguments),r=this._cmp;try{t.sort(r)}catch{return J(this,oe)}if(t.length===0)return ze(this);var i=new this.Collection(this,function(){return ve(t[0],t[t.length-1])});i._ondirectionchange=function(u){r=u==="next"?n._ascending:n._descending,t.sort(r)};var a=0;return i._addAlgorithm(function(u,o,s){for(var c=u.key;r(c,t[a])>0;)if(++a,a===t.length)return o(s),!1;return r(c,t[a])===0?!0:(o(function(){u.continue(t[a])}),!1)}),i},e.prototype.notEqual=function(n){return this.inAnyRange([[et,n],[n,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},e.prototype.noneOf=function(){var n=ue.apply(Re,arguments);if(n.length===0)return new this.Collection(this);try{n.sort(this._ascending)}catch{return J(this,oe)}var t=n.reduce(function(r,i){return r?r.concat([[r[r.length-1][1],i]]):[[et,i]]},null);return t.push([n[n.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})},e.prototype.inAnyRange=function(n,t){var r=this,i=this._cmp,a=this._ascending,u=this._descending,o=this._min,s=this._max;if(n.length===0)return ze(this);if(!n.every(function(g){return g[0]!==void 0&&g[1]!==void 0&&a(g[0],g[1])<=0}))return J(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",O.InvalidArgument);var c=!t||t.includeLowers!==!1,h=t&&t.includeUppers===!0;function l(g,x){for(var S=0,K=g.length;S<K;++S){var T=g[S];if(i(x[0],T[1])<0&&i(x[1],T[0])>0){T[0]=o(T[0],x[0]),T[1]=s(T[1],x[1]);break}}return S===K&&g.push(x),g}var v=a;function _(g,x){return v(g[0],x[0])}var f;try{f=n.reduce(l,[]),f.sort(_)}catch{return J(this,oe)}var d=0,p=h?function(g){return a(g,f[d][1])>0}:function(g){return a(g,f[d][1])>=0},y=c?function(g){return u(g,f[d][0])>0}:function(g){return u(g,f[d][0])>=0};function m(g){return!p(g)&&!y(g)}var b=p,w=new this.Collection(this,function(){return ve(f[0][0],f[f.length-1][1],!c,!h)});return w._ondirectionchange=function(g){g==="next"?(b=p,v=a):(b=y,v=u),f.sort(_)},w._addAlgorithm(function(g,x,S){for(var K=g.key;b(K);)if(++d,d===f.length)return x(S),!1;return m(K)?!0:(r._cmp(K,f[d][1])===0||r._cmp(K,f[d][0])===0||x(function(){v===a?g.continue(f[d][0]):g.continue(f[d][1])}),!1)}),w},e.prototype.startsWithAnyOf=function(){var n=ue.apply(Re,arguments);return n.every(function(t){return typeof t=="string"})?n.length===0?ze(this):this.inAnyRange(n.map(function(t){return[t,t+ke]})):J(this,"startsWithAnyOf() only works with strings")},e}();function pi(e){return Je(ur.prototype,function(t,r,i){if(this.db=e,this._ctx={table:t,index:r===":id"?null:r,or:i},this._cmp=this._ascending=B,this._descending=function(a,u){return B(u,a)},this._max=function(a,u){return B(a,u)>0?a:u},this._min=function(a,u){return B(a,u)<0?a:u},this._IDBKeyRange=e._deps.IDBKeyRange,!this._IDBKeyRange)throw new O.MissingAPI})}function te(e){return j(function(n){return qe(n),e(n.target.error),!1})}function qe(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var en="storagemutated",ut="x-storagemutated-1",pe=Xe(null,en),yi=function(){function e(){}return e.prototype._lock=function(){return We(!k.global),++this._reculock,this._reculock===1&&!k.global&&(k.lockOwnerFor=this),this},e.prototype._unlock=function(){if(We(!k.global),--this._reculock===0)for(k.global||(k.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var n=this._blockedFuncs.shift();try{Ae(n[1],n[0])}catch{}}return this},e.prototype._locked=function(){return this._reculock&&k.lockOwnerFor!==this},e.prototype.create=function(n){var t=this;if(!this.mode)return this;var r=this.db.idbdb,i=this.db._state.dbOpenError;if(We(!this.idbtrans),!n&&!r)switch(i&&i.name){case"DatabaseClosedError":throw new O.DatabaseClosed(i);case"MissingAPIError":throw new O.MissingAPI(i.message,i);default:throw new O.OpenFailed(i)}if(!this.active)throw new O.TransactionInactive;return We(this._completion._state===null),n=this.idbtrans=n||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):r.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})),n.onerror=j(function(a){qe(a),t._reject(n.error)}),n.onabort=j(function(a){qe(a),t.active&&t._reject(new O.Abort(n.error)),t.active=!1,t.on("abort").fire(a)}),n.oncomplete=j(function(){t.active=!1,t._resolve(),"mutatedParts"in n&&pe.storagemutated.fire(n.mutatedParts)}),this},e.prototype._promise=function(n,t,r){var i=this;if(n==="readwrite"&&this.mode!=="readwrite")return V(new O.ReadOnly("Transaction is readonly"));if(!this.active)return V(new O.TransactionInactive);if(this._locked())return new E(function(u,o){i._blockedFuncs.push([function(){i._promise(n,t,r).then(u,o)},k])});if(r)return fe(function(){var u=new E(function(o,s){i._lock();var c=t(o,s,i);c&&c.then&&c.then(o,s)});return u.finally(function(){return i._unlock()}),u._lib=!0,u});var a=new E(function(u,o){var s=t(u,o,i);s&&s.then&&s.then(u,o)});return a._lib=!0,a},e.prototype._root=function(){return this.parent?this.parent._root():this},e.prototype.waitFor=function(n){var t=this._root(),r=E.resolve(n);if(t._waitingFor)t._waitingFor=t._waitingFor.then(function(){return r});else{t._waitingFor=r,t._waitingQueue=[];var i=t.idbtrans.objectStore(t.storeNames[0]);(function u(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(i.get(-1/0).onsuccess=u)})()}var a=t._waitingFor;return new E(function(u,o){r.then(function(s){return t._waitingQueue.push(j(u.bind(null,s)))},function(s){return t._waitingQueue.push(j(o.bind(null,s)))}).finally(function(){t._waitingFor===a&&(t._waitingFor=null)})})},e.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new O.Abort))},e.prototype.table=function(n){var t=this._memoizedTables||(this._memoizedTables={});if(H(t,n))return t[n];var r=this.schema[n];if(!r)throw new O.NotFound("Table "+n+" not part of transaction");var i=new this.db.Table(n,r,this);return i.core=this.db.core.table(n),t[n]=i,i},e}();function mi(e){return Je(yi.prototype,function(t,r,i,a,u){var o=this;this.db=e,this.mode=t,this.storeNames=r,this.schema=i,this.chromeTransactionDurability=a,this.idbtrans=null,this.on=Xe(this,"complete","error","abort"),this.parent=u||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new E(function(s,c){o._resolve=s,o._reject=c}),this._completion.then(function(){o.active=!1,o.on.complete.fire()},function(s){var c=o.active;return o.active=!1,o.on.error.fire(s),o.parent?o.parent._reject(s):c&&o.idbtrans&&o.idbtrans.abort(),V(s)})})}function ot(e,n,t,r,i,a,u){return{name:e,keyPath:n,unique:t,multi:r,auto:i,compound:a,src:(t&&!u?"&":"")+(r?"*":"")+(i?"++":"")+or(n)}}function or(e){return typeof e=="string"?e:e?"["+[].join.call(e,"+")+"]":""}function st(e,n,t){return{name:e,primKey:n,indexes:t,mappedClass:null,idxByName:Pr(t,function(r){return[r.name,r]})}}function gi(e){return e.length===1?e[0]:e}var nn=function(e){try{return e.only([[]]),nn=function(){return[[]]},[[]]}catch{return nn=function(){return ke},ke}};function ct(e){return e==null?function(){}:typeof e=="string"?bi(e):function(n){return ae(n,e)}}function bi(e){var n=e.split(".");return n.length===1?function(t){return t[e]}:function(t){return ae(t,e)}}function sr(e){return[].slice.call(e)}var wi=0;function tn(e){return e==null?":id":typeof e=="string"?e:"[".concat(e.join("+"),"]")}function _i(e,n,t){function r(l,v){var _=sr(l.objectStoreNames);return{schema:{name:l.name,tables:_.map(function(f){return v.objectStore(f)}).map(function(f){var d=f.keyPath,p=f.autoIncrement,y=L(d),m=d==null,b={},w={name:f.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:m,compound:y,keyPath:d,autoIncrement:p,unique:!0,extractKey:ct(d)},indexes:sr(f.indexNames).map(function(g){return f.index(g)}).map(function(g){var x=g.name,S=g.unique,K=g.multiEntry,T=g.keyPath,A=L(T),P={name:x,compound:A,keyPath:T,unique:S,multiEntry:K,extractKey:ct(T)};return b[tn(T)]=P,P}),getIndexByKeyPath:function(g){return b[tn(g)]}};return b[":id"]=w.primaryKey,d!=null&&(b[tn(d)]=w.primaryKey),w})},hasGetAll:_.length>0&&"getAll"in v.objectStore(_[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}function i(l){if(l.type===3)return null;if(l.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var v=l.lower,_=l.upper,f=l.lowerOpen,d=l.upperOpen,p=v===void 0?_===void 0?null:n.upperBound(_,!!d):_===void 0?n.lowerBound(v,!!f):n.bound(v,_,!!f,!!d);return p}function a(l){var v=l.name;function _(p){var y=p.trans,m=p.type,b=p.keys,w=p.values,g=p.range;return new Promise(function(x,S){x=j(x);var K=y.objectStore(v),T=K.keyPath==null,A=m==="put"||m==="add";if(!A&&m!=="delete"&&m!=="deleteRange")throw new Error("Invalid operation type: "+m);var P=(b||w||{length:1}).length;if(b&&w&&b.length!==w.length)throw new Error("Given keys array must have same length as given values array.");if(P===0)return x({numFailures:0,failures:{},results:[],lastResult:void 0});var R,I=[],F=[],D=0,Y=function(ie){++D,qe(ie)};if(m==="deleteRange"){if(g.type===4)return x({numFailures:D,failures:F,results:[],lastResult:void 0});g.type===3?I.push(R=K.clear()):I.push(R=K.delete(i(g)))}else{var q=A?T?[w,b]:[w,null]:[b,null],ge=q[0],re=q[1];if(A)for(var Z=0;Z<P;++Z)I.push(R=re&&re[Z]!==void 0?K[m](ge[Z],re[Z]):K[m](ge[Z])),R.onerror=Y;else for(var Z=0;Z<P;++Z)I.push(R=K[m](ge[Z])),R.onerror=Y}var be=function(ie){var un=ie.target.result;I.forEach(function(ee,Rn){return ee.error!=null&&(F[Rn]=ee.error)}),x({numFailures:D,failures:F,results:m==="delete"?b:I.map(function(ee){return ee.result}),lastResult:un})};R.onerror=function(ie){Y(ie),be(ie)},R.onsuccess=be})}function f(p){var y=p.trans,m=p.values,b=p.query,w=p.reverse,g=p.unique;return new Promise(function(x,S){x=j(x);var K=b.index,T=b.range,A=y.objectStore(v),P=K.isPrimaryKey?A:A.index(K.name),R=w?g?"prevunique":"prev":g?"nextunique":"next",I=m||!("openKeyCursor"in P)?P.openCursor(i(T),R):P.openKeyCursor(i(T),R);I.onerror=te(S),I.onsuccess=j(function(F){var D=I.result;if(!D){x(null);return}D.___id=++wi,D.done=!1;var Y=D.continue.bind(D),q=D.continuePrimaryKey;q&&(q=q.bind(D));var ge=D.advance.bind(D),re=function(){throw new Error("Cursor not started")},Z=function(){throw new Error("Cursor not stopped")};D.trans=y,D.stop=D.continue=D.continuePrimaryKey=D.advance=re,D.fail=j(S),D.next=function(){var be=this,ie=1;return this.start(function(){return ie--?be.continue():be.stop()}).then(function(){return be})},D.start=function(be){var ie=new Promise(function(ee,Rn){ee=j(ee),I.onerror=te(Rn),D.fail=Rn,D.stop=function(sa){D.stop=D.continue=D.continuePrimaryKey=D.advance=Z,ee(sa)}}),un=function(){if(I.result)try{be()}catch(ee){D.fail(ee)}else D.done=!0,D.start=function(){throw new Error("Cursor behind last entry")},D.stop()};return I.onsuccess=j(function(ee){I.onsuccess=un,un()}),D.continue=Y,D.continuePrimaryKey=q,D.advance=ge,un(),ie},x(D)},S)})}function d(p){return function(y){return new Promise(function(m,b){m=j(m);var w=y.trans,g=y.values,x=y.limit,S=y.query,K=x===1/0?void 0:x,T=S.index,A=S.range,P=w.objectStore(v),R=T.isPrimaryKey?P:P.index(T.name),I=i(A);if(x===0)return m({result:[]});if(p){var F=g?R.getAll(I,K):R.getAllKeys(I,K);F.onsuccess=function(ge){return m({result:ge.target.result})},F.onerror=te(b)}else{var D=0,Y=g||!("openKeyCursor"in R)?R.openCursor(I):R.openKeyCursor(I),q=[];Y.onsuccess=function(ge){var re=Y.result;if(!re)return m({result:q});if(q.push(g?re.value:re.primaryKey),++D===x)return m({result:q});re.continue()},Y.onerror=te(b)}})}}return{name:v,schema:l,mutate:_,getMany:function(p){var y=p.trans,m=p.keys;return new Promise(function(b,w){b=j(b);for(var g=y.objectStore(v),x=m.length,S=new Array(x),K=0,T=0,A,P=function(D){var Y=D.target;(S[Y._pos]=Y.result)!=null,++T===K&&b(S)},R=te(w),I=0;I<x;++I){var F=m[I];F!=null&&(A=g.get(m[I]),A._pos=I,A.onsuccess=P,A.onerror=R,++K)}K===0&&b(S)})},get:function(p){var y=p.trans,m=p.key;return new Promise(function(b,w){b=j(b);var g=y.objectStore(v),x=g.get(m);x.onsuccess=function(S){return b(S.target.result)},x.onerror=te(w)})},query:d(s),openCursor:f,count:function(p){var y=p.query,m=p.trans,b=y.index,w=y.range;return new Promise(function(g,x){var S=m.objectStore(v),K=b.isPrimaryKey?S:S.index(b.name),T=i(w),A=T?K.count(T):K.count();A.onsuccess=j(function(P){return g(P.target.result)}),A.onerror=te(x)})}}}var u=r(e,t),o=u.schema,s=u.hasGetAll,c=o.tables.map(function(l){return a(l)}),h={};return c.forEach(function(l){return h[l.name]=l}),{stack:"dbcore",transaction:e.transaction.bind(e),table:function(l){var v=h[l];if(!v)throw new Error("Table '".concat(l,"' not found"));return h[l]},MIN_KEY:-1/0,MAX_KEY:nn(n),schema:o}}function xi(e,n){return n.reduce(function(t,r){var i=r.create;return C(C({},t),i(t))},e)}function Ei(e,n,t,r){var i=t.IDBKeyRange;t.indexedDB;var a=xi(_i(n,i,r),e.dbcore);return{dbcore:a}}function En(e,n){var t=n.db,r=Ei(e._middlewares,t,e._deps,n);e.core=r.dbcore,e.tables.forEach(function(i){var a=i.name;e.core.schema.tables.some(function(u){return u.name===a})&&(i.core=e.core.table(a),e[a]instanceof e.Table&&(e[a].core=i.core))})}function Sn(e,n,t,r){t.forEach(function(i){var a=r[i];n.forEach(function(u){var o=Tt(u,i);(!o||"value"in o&&o.value===void 0)&&(u===e.Transaction.prototype||u instanceof e.Transaction?ce(u,i,{get:function(){return this.table(i)},set:function(s){Dt(this,i,{value:s,writable:!0,configurable:!0,enumerable:!0})}}):u[i]=new e.Table(i,a))})})}function lt(e,n){n.forEach(function(t){for(var r in t)t[r]instanceof e.Table&&delete t[r]})}function Si(e,n){return e._cfg.version-n._cfg.version}function Ki(e,n,t,r){var i=e._dbSchema;t.objectStoreNames.contains("$meta")&&!i.$meta&&(i.$meta=st("$meta",lr("")[0],[]),e._storeNames.push("$meta"));var a=e._createTransaction("readwrite",e._storeNames,i);a.create(t),a._completion.catch(r);var u=a._reject.bind(a),o=k.transless||k;fe(function(){if(k.trans=a,k.transless=o,n===0)U(i).forEach(function(s){ht(t,s,i[s].primKey,i[s].indexes)}),En(e,t),E.follow(function(){return e.on.populate.fire(a)}).catch(u);else return En(e,t),ki(e,a,n).then(function(s){return Oi(e,s,a,t)}).catch(u)})}function Ai(e,n){cr(e._dbSchema,n),n.db.version%10===0&&!n.objectStoreNames.contains("$meta")&&n.db.createObjectStore("$meta").add(Math.ceil(n.db.version/10-1),"version");var t=An(e,e.idbdb,n);kn(e,e._dbSchema,n);for(var r=ft(t,e._dbSchema),i=function(c){if(c.change.length||c.recreate)return console.warn("Unable to patch indexes of table ".concat(c.name," because it has changes on the type of index or primary key.")),{value:void 0};var h=n.objectStore(c.name);c.add.forEach(function(l){ne&&console.debug("Dexie upgrade patch: Creating missing index ".concat(c.name,".").concat(l.src)),Kn(h,l)})},a=0,u=r.change;a<u.length;a++){var o=u[a],s=i(o);if(typeof s=="object")return s.value}}function ki(e,n,t){return n.storeNames.includes("$meta")?n.table("$meta").get("version").then(function(r){return r??t}):E.resolve(t)}function Oi(e,n,t,r){var i=[],a=e._versions,u=e._dbSchema=An(e,e.idbdb,r),o=a.filter(function(c){return c._cfg.version>=n});if(o.length===0)return E.resolve();o.forEach(function(c){i.push(function(){var h=u,l=c._cfg.dbschema;kn(e,h,r),kn(e,l,r),u=e._dbSchema=l;var v=ft(h,l);v.add.forEach(function(m){ht(r,m[0],m[1].primKey,m[1].indexes)}),v.change.forEach(function(m){if(m.recreate)throw new O.Upgrade("Not yet support for changing primary key");var b=r.objectStore(m.name);m.add.forEach(function(w){return Kn(b,w)}),m.change.forEach(function(w){b.deleteIndex(w.name),Kn(b,w)}),m.del.forEach(function(w){return b.deleteIndex(w)})});var _=c._cfg.contentUpgrade;if(_&&c._cfg.version>n){En(e,r),t._memoizedTables={};var f=Rt(l);v.del.forEach(function(m){f[m]=h[m]}),lt(e,[e.Transaction.prototype]),Sn(e,[e.Transaction.prototype],U(f),f),t.schema=f;var d=Ln(_);d&&Ne();var p,y=E.follow(function(){if(p=_(t),p&&d){var m=he.bind(null,null);p.then(m,m)}});return p&&typeof p.then=="function"?E.resolve(p):y.then(function(){return p})}}),i.push(function(h){var l=c._cfg.dbschema;Pi(l,h),lt(e,[e.Transaction.prototype]),Sn(e,[e.Transaction.prototype],e._storeNames,e._dbSchema),t.schema=e._dbSchema}),i.push(function(h){e.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(e.idbdb.version/10)===c._cfg.version?(e.idbdb.deleteObjectStore("$meta"),delete e._dbSchema.$meta,e._storeNames=e._storeNames.filter(function(l){return l!=="$meta"})):h.objectStore("$meta").put(c._cfg.version,"version"))})});function s(){return i.length?E.resolve(i.shift()(t.idbtrans)).then(s):E.resolve()}return s().then(function(){cr(u,r)})}function ft(e,n){var t={del:[],add:[],change:[]},r;for(r in e)n[r]||t.del.push(r);for(r in n){var i=e[r],a=n[r];if(!i)t.add.push([r,a]);else{var u={name:r,def:a,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(a.primKey.keyPath||"")||i.primKey.auto!==a.primKey.auto)u.recreate=!0,t.change.push(u);else{var o=i.idxByName,s=a.idxByName,c=void 0;for(c in o)s[c]||u.del.push(c);for(c in s){var h=o[c],l=s[c];h?h.src!==l.src&&u.change.push(l):u.add.push(l)}(u.del.length>0||u.add.length>0||u.change.length>0)&&t.change.push(u)}}}return t}function ht(e,n,t,r){var i=e.db.createObjectStore(n,t.keyPath?{keyPath:t.keyPath,autoIncrement:t.auto}:{autoIncrement:t.auto});return r.forEach(function(a){return Kn(i,a)}),i}function cr(e,n){U(e).forEach(function(t){n.db.objectStoreNames.contains(t)||(ne&&console.debug("Dexie: Creating missing table",t),ht(n,t,e[t].primKey,e[t].indexes))})}function Pi(e,n){[].slice.call(n.db.objectStoreNames).forEach(function(t){return e[t]==null&&n.db.deleteObjectStore(t)})}function Kn(e,n){e.createIndex(n.name,n.keyPath,{unique:n.unique,multiEntry:n.multi})}function An(e,n,t){var r={},i=on(n.objectStoreNames,0);return i.forEach(function(a){for(var u=t.objectStore(a),o=u.keyPath,s=ot(or(o),o||"",!0,!1,!!u.autoIncrement,o&&typeof o!="string",!0),c=[],h=0;h<u.indexNames.length;++h){var l=u.index(u.indexNames[h]);o=l.keyPath;var v=ot(l.name,o,!!l.unique,!!l.multiEntry,!1,o&&typeof o!="string",!1);c.push(v)}r[a]=st(a,s,c)}),r}function Di(e,n,t){e.verno=n.version/10;var r=e._dbSchema=An(e,n,t);e._storeNames=on(n.objectStoreNames,0),Sn(e,[e._allTables],U(r),r)}function Ti(e,n){var t=An(e,e.idbdb,n),r=ft(t,e._dbSchema);return!(r.add.length||r.change.some(function(i){return i.add.length||i.change.length}))}function kn(e,n,t){for(var r=t.db.objectStoreNames,i=0;i<r.length;++i){var a=r[i],u=t.objectStore(a);e._hasGetAll="getAll"in u;for(var o=0;o<u.indexNames.length;++o){var s=u.indexNames[o],c=u.index(s).keyPath,h=typeof c=="string"?c:"["+on(c).join("+")+"]";if(n[a]){var l=n[a].idxByName[h];l&&(l.name=s,delete n[a].idxByName[h],n[a].idxByName[s]=l)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&N.WorkerGlobalScope&&N instanceof N.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}function lr(e){return e.split(",").map(function(n,t){n=n.trim();var r=n.replace(/([&*]|\+\+)/g,""),i=/^\[/.test(r)?r.match(/^\[(.*)\]$/)[1].split("+"):r;return ot(r,i||null,/\&/.test(n),/\*/.test(n),/\+\+/.test(n),L(i),t===0)})}var Ci=function(){function e(){}return e.prototype._parseStoresSpec=function(n,t){U(n).forEach(function(r){if(n[r]!==null){var i=lr(n[r]),a=i.shift();if(a.unique=!0,a.multi)throw new O.Schema("Primary key cannot be multi-valued");i.forEach(function(u){if(u.auto)throw new O.Schema("Only primary key can be marked as autoIncrement (++)");if(!u.keyPath)throw new O.Schema("Index must have a name and cannot be an empty string")}),t[r]=st(r,a,i)}})},e.prototype.stores=function(n){var t=this.db;this._cfg.storesSource=this._cfg.storesSource?G(this._cfg.storesSource,n):n;var r=t._versions,i={},a={};return r.forEach(function(u){G(i,u._cfg.storesSource),a=u._cfg.dbschema={},u._parseStoresSpec(i,a)}),t._dbSchema=a,lt(t,[t._allTables,t,t.Transaction.prototype]),Sn(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],U(a),a),t._storeNames=U(a),this},e.prototype.upgrade=function(n){return this._cfg.contentUpgrade=Wn(this._cfg.contentUpgrade||M,n),this},e}();function Ii(e){return Je(Ci.prototype,function(t){this.db=e,this._cfg={version:t,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}function dt(e,n){var t=e._dbNamesDB;return t||(t=e._dbNamesDB=new se(gn,{addons:[],indexedDB:e,IDBKeyRange:n}),t.version(1).stores({dbnames:"name"})),t.table("dbnames")}function vt(e){return e&&typeof e.databases=="function"}function Ri(e){var n=e.indexedDB,t=e.IDBKeyRange;return vt(n)?Promise.resolve(n.databases()).then(function(r){return r.map(function(i){return i.name}).filter(function(i){return i!==gn})}):dt(n,t).toCollection().primaryKeys()}function Bi(e,n){var t=e.indexedDB,r=e.IDBKeyRange;!vt(t)&&n!==gn&&dt(t,r).put({name:n}).catch(M)}function Mi(e,n){var t=e.indexedDB,r=e.IDBKeyRange;!vt(t)&&n!==gn&&dt(t,r).delete(n).catch(M)}function pt(e){return fe(function(){return k.letThrough=!0,e()})}function Fi(){var e=!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent);if(!e||!indexedDB.databases)return Promise.resolve();var n;return new Promise(function(t){var r=function(){return indexedDB.databases().finally(t)};n=setInterval(r,100),r()}).finally(function(){return clearInterval(n)})}var yt;function mt(e){return!("from"in e)}var Q=function(e,n){if(this)G(this,arguments.length?{d:1,from:e,to:arguments.length>1?n:e}:{d:0});else{var t=new Q;return e&&"d"in e&&G(t,e),t}};Ce(Q.prototype,(yt={add:function(e){return an(this,e),this},addKey:function(e){return rn(this,e,e),this},addKeys:function(e){var n=this;return e.forEach(function(t){return rn(n,t,t)}),this},hasKey:function(e){var n=On(this).next(e).value;return n&&B(n.from,e)<=0&&B(n.to,e)>=0}},yt[Nn]=function(){return On(this)},yt));function rn(e,n,t){var r=B(n,t);if(!isNaN(r)){if(r>0)throw RangeError();if(mt(e))return G(e,{from:n,to:t,d:1});var i=e.l,a=e.r;if(B(t,e.from)<0)return i?rn(i,n,t):e.l={from:n,to:t,d:1,l:null,r:null},hr(e);if(B(n,e.to)>0)return a?rn(a,n,t):e.r={from:n,to:t,d:1,l:null,r:null},hr(e);B(n,e.from)<0&&(e.from=n,e.l=null,e.d=a?a.d+1:1),B(t,e.to)>0&&(e.to=t,e.r=null,e.d=e.l?e.l.d+1:1);var u=!e.r;i&&!e.l&&an(e,i),a&&u&&an(e,a)}}function an(e,n){function t(r,i){var a=i.from,u=i.to,o=i.l,s=i.r;rn(r,a,u),o&&t(r,o),s&&t(r,s)}mt(n)||t(e,n)}function fr(e,n){var t=On(n),r=t.next();if(r.done)return!1;for(var i=r.value,a=On(e),u=a.next(i.from),o=u.value;!r.done&&!u.done;){if(B(o.from,i.to)<=0&&B(o.to,i.from)>=0)return!0;B(i.from,o.from)<0?i=(r=t.next(o.from)).value:o=(u=a.next(i.from)).value}return!1}function On(e){var n=mt(e)?null:{s:0,n:e};return{next:function(t){for(var r=arguments.length>0;n;)switch(n.s){case 0:if(n.s=1,r)for(;n.n.l&&B(t,n.n.from)<0;)n={up:n,n:n.n.l,s:1};else for(;n.n.l;)n={up:n,n:n.n.l,s:1};case 1:if(n.s=2,!r||B(t,n.n.to)<=0)return{value:n.n,done:!1};case 2:if(n.n.r){n.s=3,n={up:n,n:n.n.r,s:0};continue}case 3:n=n.up}return{done:!0}}}}function hr(e){var n,t,r=(((n=e.r)===null||n===void 0?void 0:n.d)||0)-(((t=e.l)===null||t===void 0?void 0:t.d)||0),i=r>1?"r":r<-1?"l":"";if(i){var a=i==="r"?"l":"r",u=C({},e),o=e[i];e.from=o.from,e.to=o.to,e[i]=o[i],u[i]=o[a],e[a]=u,u.d=dr(u)}e.d=dr(e)}function dr(e){var n=e.r,t=e.l;return(n?t?Math.max(n.d,t.d):n.d:t?t.d:0)+1}function Pn(e,n){return U(n).forEach(function(t){e[t]?an(e[t],n[t]):e[t]=Ft(n[t])}),e}function gt(e,n){return e.all||n.all||Object.keys(e).some(function(t){return n[t]&&fr(n[t],e[t])})}var Pe={},bt={},wt=!1;function Dn(e,n){Pn(bt,e),wt||(wt=!0,setTimeout(function(){wt=!1;var t=bt;bt={},_t(t,!1)},0))}function _t(e,n){n===void 0&&(n=!1);var t=new Set;if(e.all)for(var r=0,i=Object.values(Pe);r<i.length;r++){var a=i[r];vr(a,e,t,n)}else for(var u in e){var o=/^idb\:\/\/(.*)\/(.*)\//.exec(u);if(o){var s=o[1],c=o[2],a=Pe["idb://".concat(s,"/").concat(c)];a&&vr(a,e,t,n)}}t.forEach(function(h){return h()})}function vr(e,n,t,r){for(var i=[],a=0,u=Object.entries(e.queries.query);a<u.length;a++){for(var o=u[a],s=o[0],c=o[1],h=[],l=0,v=c;l<v.length;l++){var _=v[l];gt(n,_.obsSet)?_.subscribers.forEach(function(y){return t.add(y)}):r&&h.push(_)}r&&i.push([s,h])}if(r)for(var f=0,d=i;f<d.length;f++){var p=d[f],s=p[0],h=p[1];e.queries.query[s]=h}}function ji(e){var n=e._state,t=e._deps.indexedDB;if(n.isBeingOpened||e.idbdb)return n.dbReadyPromise.then(function(){return n.dbOpenError?V(n.dbOpenError):e});n.isBeingOpened=!0,n.dbOpenError=null,n.openComplete=!1;var r=n.openCanceller,i=Math.round(e.verno*10),a=!1;function u(){if(n.openCanceller!==r)throw new O.DatabaseClosed("db.open() was cancelled")}var o=n.dbReadyResolve,s=null,c=!1,h=function(){return new E(function(l,v){if(u(),!t)throw new O.MissingAPI;var _=e.name,f=n.autoSchema||!i?t.open(_):t.open(_,i);if(!f)throw new O.MissingAPI;f.onerror=te(v),f.onblocked=j(e._fireOnBlocked),f.onupgradeneeded=j(function(d){if(s=f.transaction,n.autoSchema&&!e._options.allowEmptyDB){f.onerror=qe,s.abort(),f.result.close();var p=t.deleteDatabase(_);p.onsuccess=p.onerror=j(function(){v(new O.NoSuchDatabase("Database ".concat(_," doesnt exist")))})}else{s.onerror=te(v);var y=d.oldVersion>Math.pow(2,62)?0:d.oldVersion;c=y<1,e.idbdb=f.result,a&&Ai(e,s),Ki(e,y/10,s,v)}},v),f.onsuccess=j(function(){s=null;var d=e.idbdb=f.result,p=on(d.objectStoreNames);if(p.length>0)try{var y=d.transaction(gi(p),"readonly");if(n.autoSchema)Di(e,d,y);else if(kn(e,e._dbSchema,y),!Ti(e,y)&&!a)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),d.close(),i=d.version+1,a=!0,l(h());En(e,y)}catch{}Le.push(e),d.onversionchange=j(function(m){n.vcFired=!0,e.on("versionchange").fire(m)}),d.onclose=j(function(m){e.on("close").fire(m)}),c&&Bi(e._deps,_),l()},v)}).catch(function(l){switch(l?.name){case"UnknownError":if(n.PR1398_maxLoop>0)return n.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),h();break;case"VersionError":if(i>0)return i=0,h();break}return E.reject(l)})};return E.race([r,(typeof navigator>"u"?E.resolve():Fi()).then(h)]).then(function(){return u(),n.onReadyBeingFired=[],E.resolve(pt(function(){return e.on.ready.fire(e.vip)})).then(function l(){if(n.onReadyBeingFired.length>0){var v=n.onReadyBeingFired.reduce(Wn,M);return n.onReadyBeingFired=[],E.resolve(pt(function(){return v(e.vip)})).then(l)}})}).finally(function(){n.openCanceller===r&&(n.onReadyBeingFired=null,n.isBeingOpened=!1)}).catch(function(l){n.dbOpenError=l;try{s&&s.abort()}catch{}return r===n.openCanceller&&e._close(),V(l)}).finally(function(){n.openComplete=!0,o()}).then(function(){if(c){var l={};e.tables.forEach(function(v){v.schema.indexes.forEach(function(_){_.name&&(l["idb://".concat(e.name,"/").concat(v.name,"/").concat(_.name)]=new Q(-1/0,[[[]]]))}),l["idb://".concat(e.name,"/").concat(v.name,"/")]=l["idb://".concat(e.name,"/").concat(v.name,"/:dels")]=new Q(-1/0,[[[]]])}),pe(en).fire(l),_t(l,!0)}return e})}function xt(e){var n=function(u){return e.next(u)},t=function(u){return e.throw(u)},r=a(n),i=a(t);function a(u){return function(o){var s=u(o),c=s.value;return s.done?c:!c||typeof c.then!="function"?L(c)?Promise.all(c).then(r,i):r(c):c.then(r,i)}}return a(n)()}function Ni(e,n,t){var r=arguments.length;if(r<2)throw new O.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];t=i.pop();var a=Bt(i);return[e,a,t]}function pr(e,n,t,r,i){return E.resolve().then(function(){var a=k.transless||k,u=e._createTransaction(n,t,e._dbSchema,r);u.explicit=!0;var o={trans:u,transless:a};if(r)u.idbtrans=r.idbtrans;else try{u.create(),u.idbtrans._explicit=!0,e._state.PR1398_maxLoop=3}catch(l){return l.name===zn.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e.close({disableAutoOpen:!1}),e.open().then(function(){return pr(e,n,t,null,i)})):V(l)}var s=Ln(i);s&&Ne();var c,h=E.follow(function(){if(c=i.call(u,u),c)if(s){var l=he.bind(null,null);c.then(l,l)}else typeof c.next=="function"&&typeof c.throw=="function"&&(c=xt(c))},o);return(c&&typeof c.then=="function"?E.resolve(c).then(function(l){return u.active?l:V(new O.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):h.then(function(){return c})).then(function(l){return r&&u._resolve(),u._completion.then(function(){return l})}).catch(function(l){return u._reject(l),V(l)})})}function Tn(e,n,t){for(var r=L(e)?e.slice():[e],i=0;i<t;++i)r.push(n);return r}function Li(e){return C(C({},e),{table:function(n){var t=e.table(n),r=t.schema,i={},a=[];function u(d,p,y){var m=tn(d),b=i[m]=i[m]||[],w=d==null?0:typeof d=="string"?1:d.length,g=p>0,x=C(C({},y),{name:g?"".concat(m,"(virtual-from:").concat(y.name,")"):y.name,lowLevelIndex:y,isVirtual:g,keyTail:p,keyLength:w,extractKey:ct(d),unique:!g&&y.unique});if(b.push(x),x.isPrimaryKey||a.push(x),w>1){var S=w===2?d[0]:d.slice(0,w-1);u(S,p+1,y)}return b.sort(function(K,T){return K.keyTail-T.keyTail}),x}var o=u(r.primaryKey.keyPath,0,r.primaryKey);i[":id"]=[o];for(var s=0,c=r.indexes;s<c.length;s++){var h=c[s];u(h.keyPath,0,h)}function l(d){var p=i[tn(d)];return p&&p[0]}function v(d,p){return{type:d.type===1?2:d.type,lower:Tn(d.lower,d.lowerOpen?e.MAX_KEY:e.MIN_KEY,p),lowerOpen:!0,upper:Tn(d.upper,d.upperOpen?e.MIN_KEY:e.MAX_KEY,p),upperOpen:!0}}function _(d){var p=d.query.index;return p.isVirtual?C(C({},d),{query:{index:p.lowLevelIndex,range:v(d.query.range,p.keyTail)}}):d}var f=C(C({},t),{schema:C(C({},r),{primaryKey:o,indexes:a,getIndexByKeyPath:l}),count:function(d){return t.count(_(d))},query:function(d){return t.query(_(d))},openCursor:function(d){var p=d.query.index,y=p.keyTail,m=p.isVirtual,b=p.keyLength;if(!m)return t.openCursor(d);function w(g){function x(K){K!=null?g.continue(Tn(K,d.reverse?e.MAX_KEY:e.MIN_KEY,y)):d.unique?g.continue(g.key.slice(0,b).concat(d.reverse?e.MIN_KEY:e.MAX_KEY,y)):g.continue()}var S=Object.create(g,{continue:{value:x},continuePrimaryKey:{value:function(K,T){g.continuePrimaryKey(Tn(K,e.MAX_KEY,y),T)}},primaryKey:{get:function(){return g.primaryKey}},key:{get:function(){var K=g.key;return b===1?K[0]:K.slice(0,b)}},value:{get:function(){return g.value}}});return S}return t.openCursor(_(d)).then(function(g){return g&&w(g)})}});return f}})}var Vi={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:Li};function Et(e,n,t,r){return t=t||{},r=r||"",U(e).forEach(function(i){if(!H(n,i))t[r+i]=void 0;else{var a=e[i],u=n[i];if(typeof a=="object"&&typeof u=="object"&&a&&u){var o=jn(a),s=jn(u);o!==s?t[r+i]=n[i]:o==="Object"?Et(a,u,t,r+i+"."):a!==u&&(t[r+i]=n[i])}else a!==u&&(t[r+i]=n[i])}}),U(n).forEach(function(i){H(e,i)||(t[r+i]=n[i])}),t}function St(e,n){return n.type==="delete"?n.keys:n.keys||n.values.map(e.extractKey)}var zi={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(e){return C(C({},e),{table:function(n){var t=e.table(n),r=t.schema.primaryKey,i=C(C({},t),{mutate:function(a){var u=k.trans,o=u.table(n).hook,s=o.deleting,c=o.creating,h=o.updating;switch(a.type){case"add":if(c.fire===M)break;return u._promise("readwrite",function(){return l(a)},!0);case"put":if(c.fire===M&&h.fire===M)break;return u._promise("readwrite",function(){return l(a)},!0);case"delete":if(s.fire===M)break;return u._promise("readwrite",function(){return l(a)},!0);case"deleteRange":if(s.fire===M)break;return u._promise("readwrite",function(){return v(a)},!0)}return t.mutate(a);function l(f){var d=k.trans,p=f.keys||St(r,f);if(!p)throw new Error("Keys missing");return f=f.type==="add"||f.type==="put"?C(C({},f),{keys:p}):C({},f),f.type!=="delete"&&(f.values=we([],f.values,!0)),f.keys&&(f.keys=we([],f.keys,!0)),Wi(t,f,p).then(function(y){var m=p.map(function(b,w){var g=y[w],x={onerror:null,onsuccess:null};if(f.type==="delete")s.fire.call(x,b,g,d);else if(f.type==="add"||g===void 0){var S=c.fire.call(x,b,f.values[w],d);b==null&&S!=null&&(b=S,f.keys[w]=b,r.outbound||X(f.values[w],r.keyPath,b))}else{var K=Et(g,f.values[w]),T=h.fire.call(x,K,b,g,d);if(T){var A=f.values[w];Object.keys(T).forEach(function(P){H(A,P)?A[P]=T[P]:X(A,P,T[P])})}}return x});return t.mutate(f).then(function(b){for(var w=b.failures,g=b.results,x=b.numFailures,S=b.lastResult,K=0;K<p.length;++K){var T=g?g[K]:p[K],A=m[K];T==null?A.onerror&&A.onerror(w[K]):A.onsuccess&&A.onsuccess(f.type==="put"&&y[K]?f.values[K]:T)}return{failures:w,results:g,numFailures:x,lastResult:S}}).catch(function(b){return m.forEach(function(w){return w.onerror&&w.onerror(b)}),Promise.reject(b)})})}function v(f){return _(f.trans,f.range,1e4)}function _(f,d,p){return t.query({trans:f,values:!1,query:{index:r,range:d},limit:p}).then(function(y){var m=y.result;return l({type:"delete",keys:m,trans:f}).then(function(b){return b.numFailures>0?Promise.reject(b.failures[0]):m.length<p?{failures:[],numFailures:0,lastResult:void 0}:_(f,C(C({},d),{lower:m[m.length-1],lowerOpen:!0}),p)})})}}});return i}})}};function Wi(e,n,t){return n.type==="add"?Promise.resolve([]):e.getMany({trans:n.trans,keys:t,cache:"immutable"})}function yr(e,n,t){try{if(!n||n.keys.length<e.length)return null;for(var r=[],i=0,a=0;i<n.keys.length&&a<e.length;++i)B(n.keys[i],e[a])===0&&(r.push(t?_e(n.values[i]):n.values[i]),++a);return r.length===e.length?r:null}catch{return null}}var Ui={stack:"dbcore",level:-1,create:function(e){return{table:function(n){var t=e.table(n);return C(C({},t),{getMany:function(r){if(!r.cache)return t.getMany(r);var i=yr(r.keys,r.trans._cache,r.cache==="clone");return i?E.resolve(i):t.getMany(r).then(function(a){return r.trans._cache={keys:r.keys,values:r.cache==="clone"?_e(a):a},a})},mutate:function(r){return r.type!=="add"&&(r.trans._cache=null),t.mutate(r)}})}}}};function mr(e,n){return e.trans.mode==="readonly"&&!!e.subscr&&!e.trans.explicit&&e.trans.db._options.cache!=="disabled"&&!n.schema.primaryKey.outbound}function gr(e,n){switch(e){case"query":return n.values&&!n.unique;case"get":return!1;case"getMany":return!1;case"count":return!1;case"openCursor":return!1}}var $i={stack:"dbcore",level:0,name:"Observability",create:function(e){var n=e.schema.name,t=new Q(e.MIN_KEY,e.MAX_KEY);return C(C({},e),{transaction:function(r,i,a){if(k.subscr&&i!=="readonly")throw new O.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(k.querier));return e.transaction(r,i,a)},table:function(r){var i=e.table(r),a=i.schema,u=a.primaryKey,o=a.indexes,s=u.extractKey,c=u.outbound,h=u.autoIncrement&&o.filter(function(f){return f.compound&&f.keyPath.includes(u.keyPath)}),l=C(C({},i),{mutate:function(f){var d=f.trans,p=f.mutatedParts||(f.mutatedParts={}),y=function(P){var R="idb://".concat(n,"/").concat(r,"/").concat(P);return p[R]||(p[R]=new Q)},m=y(""),b=y(":dels"),w=f.type,g=f.type==="deleteRange"?[f.range]:f.type==="delete"?[f.keys]:f.values.length<50?[St(u,f).filter(function(P){return P}),f.values]:[],x=g[0],S=g[1],K=f.trans._cache;if(L(x)){m.addKeys(x);var T=w==="delete"||x.length===S.length?yr(x,K):null;T||b.addKeys(x),(T||S)&&Yi(y,a,T,S)}else if(x){var A={from:x.lower,to:x.upper};b.add(A),m.add(A)}else m.add(t),b.add(t),a.indexes.forEach(function(P){return y(P.name).add(t)});return i.mutate(f).then(function(P){return x&&(f.type==="add"||f.type==="put")&&(m.addKeys(P.results),h&&h.forEach(function(R){var I=f.values.map(function(D){return R.extractKey(D)}),F=R.keyPath.findIndex(function(D){return D===u.keyPath});P.results.forEach(function(D){return I[F]=D}),y(R.name).addKeys(I)})),d.mutatedParts=Pn(d.mutatedParts||{},p),P})}}),v=function(f){var d,p,y=f.query,m=y.index,b=y.range;return[m,new Q((d=b.lower)!==null&&d!==void 0?d:e.MIN_KEY,(p=b.upper)!==null&&p!==void 0?p:e.MAX_KEY)]},_={get:function(f){return[u,new Q(f.key)]},getMany:function(f){return[u,new Q().addKeys(f.keys)]},count:v,query:v,openCursor:v};return U(_).forEach(function(f){l[f]=function(d){var p=k.subscr,y=!!p,m=mr(k,i)&&gr(f,d),b=m?d.obsSet={}:p;if(y){var w=function(P){var R="idb://".concat(n,"/").concat(r,"/").concat(P);return b[R]||(b[R]=new Q)},g=w(""),x=w(":dels"),S=_[f](d),K=S[0],T=S[1];if(f==="query"&&K.isPrimaryKey&&!d.values?x.add(T):w(K.name||"").add(T),!K.isPrimaryKey)if(f==="count")x.add(t);else{var A=f==="query"&&c&&d.values&&i.query(C(C({},d),{values:!1}));return i[f].apply(this,arguments).then(function(P){if(f==="query"){if(c&&d.values)return A.then(function(D){var Y=D.result;return g.addKeys(Y),P});var R=d.values?P.result.map(s):P.result;d.values?g.addKeys(R):x.addKeys(R)}else if(f==="openCursor"){var I=P,F=d.values;return I&&Object.create(I,{key:{get:function(){return x.addKey(I.primaryKey),I.key}},primaryKey:{get:function(){var D=I.primaryKey;return x.addKey(D),D}},value:{get:function(){return F&&g.addKey(I.primaryKey),I.value}}})}return P})}}return i[f].apply(this,arguments)}}),l}})}};function Yi(e,n,t,r){function i(a){var u=e(a.name||"");function o(c){return c!=null?a.extractKey(c):null}var s=function(c){return a.multiEntry&&L(c)?c.forEach(function(h){return u.addKey(h)}):u.addKey(c)};(t||r).forEach(function(c,h){var l=t&&o(t[h]),v=r&&o(r[h]);B(l,v)!==0&&(l!=null&&s(l),v!=null&&s(v))})}n.indexes.forEach(i)}function br(e,n,t){if(t.numFailures===0)return n;if(n.type==="deleteRange")return null;var r=n.keys?n.keys.length:"values"in n&&n.values?n.values.length:1;if(t.numFailures===r)return null;var i=C({},n);return L(i.keys)&&(i.keys=i.keys.filter(function(a,u){return!(u in t.failures)})),"values"in i&&L(i.values)&&(i.values=i.values.filter(function(a,u){return!(u in t.failures)})),i}function Qi(e,n){return n.lower===void 0?!0:n.lowerOpen?B(e,n.lower)>0:B(e,n.lower)>=0}function Hi(e,n){return n.upper===void 0?!0:n.upperOpen?B(e,n.upper)<0:B(e,n.upper)<=0}function Kt(e,n){return Qi(e,n)&&Hi(e,n)}function wr(e,n,t,r,i,a){if(!t||t.length===0)return e;var u=n.query.index,o=u.multiEntry,s=n.query.range,c=r.schema.primaryKey,h=c.extractKey,l=u.extractKey,v=(u.lowLevelIndex||u).extractKey,_=t.reduce(function(f,d){var p=f,y=[];if(d.type==="add"||d.type==="put")for(var m=new Q,b=d.values.length-1;b>=0;--b){var w=d.values[b],g=h(w);if(!m.hasKey(g)){var x=l(w);(o&&L(x)?x.some(function(A){return Kt(A,s)}):Kt(x,s))&&(m.addKey(g),y.push(w))}}switch(d.type){case"add":p=f.concat(n.values?y:y.map(function(A){return h(A)}));break;case"put":var S=new Q().addKeys(d.values.map(function(A){return h(A)}));p=f.filter(function(A){return!S.hasKey(n.values?h(A):A)}).concat(n.values?y:y.map(function(A){return h(A)}));break;case"delete":var K=new Q().addKeys(d.keys);p=f.filter(function(A){return!K.hasKey(n.values?h(A):A)});break;case"deleteRange":var T=d.range;p=f.filter(function(A){return!Kt(h(A),T)});break}return p},e);return _===e?e:(_.sort(function(f,d){return B(v(f),v(d))||B(h(f),h(d))}),n.limit&&n.limit<1/0&&(_.length>n.limit?_.length=n.limit:e.length===n.limit&&_.length<n.limit&&(i.dirty=!0)),a?Object.freeze(_):_)}function _r(e,n){return B(e.lower,n.lower)===0&&B(e.upper,n.upper)===0&&!!e.lowerOpen==!!n.lowerOpen&&!!e.upperOpen==!!n.upperOpen}function Gi(e,n,t,r){if(e===void 0)return n!==void 0?-1:0;if(n===void 0)return 1;var i=B(e,n);if(i===0){if(t&&r)return 0;if(t)return 1;if(r)return-1}return i}function Xi(e,n,t,r){if(e===void 0)return n!==void 0?1:0;if(n===void 0)return-1;var i=B(e,n);if(i===0){if(t&&r)return 0;if(t)return-1;if(r)return 1}return i}function Ji(e,n){return Gi(e.lower,n.lower,e.lowerOpen,n.lowerOpen)<=0&&Xi(e.upper,n.upper,e.upperOpen,n.upperOpen)>=0}function Zi(e,n,t,r){var i=Pe["idb://".concat(e,"/").concat(n)];if(!i)return[];var a=i.queries[t];if(!a)return[null,!1,i,null];var u=r.query?r.query.index.name:null,o=a[u||""];if(!o)return[null,!1,i,null];switch(t){case"query":var s=o.find(function(l){return l.req.limit===r.limit&&l.req.values===r.values&&_r(l.req.query.range,r.query.range)});if(s)return[s,!0,i,o];var c=o.find(function(l){var v="limit"in l.req?l.req.limit:1/0;return v>=r.limit&&(r.values?l.req.values:!0)&&Ji(l.req.query.range,r.query.range)});return[c,!1,i,o];case"count":var h=o.find(function(l){return _r(l.req.query.range,r.query.range)});return[h,!!h,i,o]}}function qi(e,n,t,r){e.subscribers.add(t),r.addEventListener("abort",function(){e.subscribers.delete(t),e.subscribers.size===0&&ea(e,n)})}function ea(e,n){setTimeout(function(){e.subscribers.size===0&&xe(n,e)},3e3)}var na={stack:"dbcore",level:0,name:"Cache",create:function(e){var n=e.schema.name,t=C(C({},e),{transaction:function(r,i,a){var u=e.transaction(r,i,a);if(i==="readwrite"){var o=new AbortController,s=o.signal,c=function(h){return function(){if(o.abort(),i==="readwrite"){for(var l=new Set,v=0,_=r;v<_.length;v++){var f=_[v],d=Pe["idb://".concat(n,"/").concat(f)];if(d){var p=e.table(f),y=d.optimisticOps.filter(function(F){return F.trans===u});if(u._explicit&&h&&u.mutatedParts)for(var m=0,b=Object.values(d.queries.query);m<b.length;m++)for(var w=b[m],g=0,x=w.slice();g<x.length;g++){var S=x[g];gt(S.obsSet,u.mutatedParts)&&(xe(w,S),S.subscribers.forEach(function(F){return l.add(F)}))}else if(y.length>0){d.optimisticOps=d.optimisticOps.filter(function(F){return F.trans!==u});for(var K=0,T=Object.values(d.queries.query);K<T.length;K++)for(var w=T[K],A=0,P=w.slice();A<P.length;A++){var S=P[A];if(S.res!=null&&u.mutatedParts)if(h&&!S.dirty){var R=Object.isFrozen(S.res),I=wr(S.res,S.req,y,p,S,R);S.dirty?(xe(w,S),S.subscribers.forEach(function(Y){return l.add(Y)})):I!==S.res&&(S.res=I,S.promise=E.resolve({result:I}))}else S.dirty&&xe(w,S),S.subscribers.forEach(function(Y){return l.add(Y)})}}}}l.forEach(function(F){return F()})}}};u.addEventListener("abort",c(!1),{signal:s}),u.addEventListener("error",c(!1),{signal:s}),u.addEventListener("complete",c(!0),{signal:s})}return u},table:function(r){var i=e.table(r),a=i.schema.primaryKey,u=C(C({},i),{mutate:function(o){var s=k.trans;if(a.outbound||s.db._options.cache==="disabled"||s.explicit)return i.mutate(o);var c=Pe["idb://".concat(n,"/").concat(r)];if(!c)return i.mutate(o);var h=i.mutate(o);return(o.type==="add"||o.type==="put")&&(o.values.length>=50||St(a,o).some(function(l){return l==null}))?h.then(function(l){var v=C(C({},o),{values:o.values.map(function(f,d){var p,y=!((p=a.keyPath)===null||p===void 0)&&p.includes(".")?_e(f):C({},f);return X(y,a.keyPath,l.results[d]),y})}),_=br(c,v,l);c.optimisticOps.push(_),queueMicrotask(function(){return o.mutatedParts&&Dn(o.mutatedParts)})}):(c.optimisticOps.push(o),o.mutatedParts&&Dn(o.mutatedParts),h.then(function(l){if(l.numFailures>0){xe(c.optimisticOps,o);var v=br(c,o,l);v&&c.optimisticOps.push(v),o.mutatedParts&&Dn(o.mutatedParts)}}),h.catch(function(){xe(c.optimisticOps,o),o.mutatedParts&&Dn(o.mutatedParts)})),h},query:function(o){var s;if(!mr(k,i)||!gr("query",o))return i.query(o);var c=((s=k.trans)===null||s===void 0?void 0:s.db._options.cache)==="immutable",h=k,l=h.requery,v=h.signal,_=Zi(n,r,"query",o),f=_[0],d=_[1],p=_[2],y=_[3];if(f&&d)f.obsSet=o.obsSet;else{var m=i.query(o).then(function(b){var w=b.result;if(f&&(f.res=w),c){for(var g=0,x=w.length;g<x;++g)Object.freeze(w[g]);Object.freeze(w)}else b.result=_e(w);return b}).catch(function(b){return y&&f&&xe(y,f),Promise.reject(b)});f={obsSet:o.obsSet,promise:m,subscribers:new Set,type:"query",req:o,dirty:!1},y?y.push(f):(y=[f],p||(p=Pe["idb://".concat(n,"/").concat(r)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}}),p.queries.query[o.query.index.name||""]=y)}return qi(f,y,l,v),f.promise.then(function(b){return{result:wr(b.result,o,p?.optimisticOps,i,f,c)}})}});return u}});return t}};function Cn(e,n){return new Proxy(e,{get:function(t,r,i){return r==="db"?n:Reflect.get(t,r,i)}})}var se=function(){function e(n,t){var r=this;this._middlewares={},this.verno=0;var i=e.dependencies;this._options=t=C({addons:e.addons,autoOpen:!0,indexedDB:i.indexedDB,IDBKeyRange:i.IDBKeyRange,cache:"cloned"},t),this._deps={indexedDB:t.indexedDB,IDBKeyRange:t.IDBKeyRange};var a=t.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var u={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:M,dbReadyPromise:null,cancelOpen:M,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:t.autoOpen};u.dbReadyPromise=new E(function(s){u.dbReadyResolve=s}),u.openCanceller=new E(function(s,c){u.cancelOpen=c}),this._state=u,this.name=n,this.on=Xe(this,"populate","blocked","versionchange","close",{ready:[Wn,M]}),this.on.ready.subscribe=Ct(this.on.ready.subscribe,function(s){return function(c,h){e.vip(function(){var l=r._state;if(l.openComplete)l.dbOpenError||E.resolve().then(c),h&&s(c);else if(l.onReadyBeingFired)l.onReadyBeingFired.push(c),h&&s(c);else{s(c);var v=r;h||s(function _(){v.on.ready.unsubscribe(c),v.on.ready.unsubscribe(_)})}})}}),this.Collection=ci(this),this.Table=ai(this),this.Transaction=mi(this),this.Version=Ii(this),this.WhereClause=pi(this),this.on("versionchange",function(s){s.newVersion>0?console.warn("Another connection wants to upgrade database '".concat(r.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(r.name,"'. Closing db now to resume the delete request.")),r.close({disableAutoOpen:!1})}),this.on("blocked",function(s){!s.newVersion||s.newVersion<s.oldVersion?console.warn("Dexie.delete('".concat(r.name,"') was blocked")):console.warn("Upgrade '".concat(r.name,"' blocked by other connection holding version ").concat(s.oldVersion/10))}),this._maxKey=nn(t.IDBKeyRange),this._createTransaction=function(s,c,h,l){return new r.Transaction(s,c,h,r._options.chromeTransactionDurability,l)},this._fireOnBlocked=function(s){r.on("blocked").fire(s),Le.filter(function(c){return c.name===r.name&&c!==r&&!c._state.vcFired}).map(function(c){return c.on("versionchange").fire(s)})},this.use(Ui),this.use(na),this.use($i),this.use(Vi),this.use(zi);var o=new Proxy(this,{get:function(s,c,h){if(c==="_vip")return!0;if(c==="table")return function(v){return Cn(r.table(v),o)};var l=Reflect.get(s,c,h);return l instanceof tr?Cn(l,o):c==="tables"?l.map(function(v){return Cn(v,o)}):c==="_createTransaction"?function(){var v=l.apply(this,arguments);return Cn(v,o)}:l}});this.vip=o,a.forEach(function(s){return s(r)})}return e.prototype.version=function(n){if(isNaN(n)||n<.1)throw new O.Type("Given version is not a positive number");if(n=Math.round(n*10)/10,this.idbdb||this._state.isBeingOpened)throw new O.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,n);var t=this._versions,r=t.filter(function(i){return i._cfg.version===n})[0];return r||(r=new this.Version(n),t.push(r),t.sort(Si),r.stores({}),this._state.autoSchema=!1,r)},e.prototype._whenReady=function(n){var t=this;return this.idbdb&&(this._state.openComplete||k.letThrough||this._vip)?n():new E(function(r,i){if(t._state.openComplete)return i(new O.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._state.autoOpen){i(new O.DatabaseClosed);return}t.open().catch(M)}t._state.dbReadyPromise.then(r,i)}).then(n)},e.prototype.use=function(n){var t=n.stack,r=n.create,i=n.level,a=n.name;a&&this.unuse({stack:t,name:a});var u=this._middlewares[t]||(this._middlewares[t]=[]);return u.push({stack:t,create:r,level:i??10,name:a}),u.sort(function(o,s){return o.level-s.level}),this},e.prototype.unuse=function(n){var t=n.stack,r=n.name,i=n.create;return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter(function(a){return i?a.create!==i:r?a.name!==r:!1})),this},e.prototype.open=function(){var n=this;return Ae(le,function(){return ji(n)})},e.prototype._close=function(){var n=this._state,t=Le.indexOf(this);if(t>=0&&Le.splice(t,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}n.isBeingOpened||(n.dbReadyPromise=new E(function(r){n.dbReadyResolve=r}),n.openCanceller=new E(function(r,i){n.cancelOpen=i}))},e.prototype.close=function(n){var t=n===void 0?{disableAutoOpen:!0}:n,r=t.disableAutoOpen,i=this._state;r?(i.isBeingOpened&&i.cancelOpen(new O.DatabaseClosed),this._close(),i.autoOpen=!1,i.dbOpenError=new O.DatabaseClosed):(this._close(),i.autoOpen=this._options.autoOpen||i.isBeingOpened,i.openComplete=!1,i.dbOpenError=null)},e.prototype.delete=function(n){var t=this;n===void 0&&(n={disableAutoOpen:!0});var r=arguments.length>0&&typeof arguments[0]!="object",i=this._state;return new E(function(a,u){var o=function(){t.close(n);var s=t._deps.indexedDB.deleteDatabase(t.name);s.onsuccess=j(function(){Mi(t._deps,t.name),a()}),s.onerror=te(u),s.onblocked=t._fireOnBlocked};if(r)throw new O.InvalidArgument("Invalid closeOptions argument to db.delete()");i.isBeingOpened?i.dbReadyPromise.then(o):o()})},e.prototype.backendDB=function(){return this.idbdb},e.prototype.isOpen=function(){return this.idbdb!==null},e.prototype.hasBeenClosed=function(){var n=this._state.dbOpenError;return n&&n.name==="DatabaseClosed"},e.prototype.hasFailed=function(){return this._state.dbOpenError!==null},e.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(e.prototype,"tables",{get:function(){var n=this;return U(this._allTables).map(function(t){return n._allTables[t]})},enumerable:!1,configurable:!0}),e.prototype.transaction=function(){var n=Ni.apply(this,arguments);return this._transaction.apply(this,n)},e.prototype._transaction=function(n,t,r){var i=this,a=k.trans;(!a||a.db!==this||n.indexOf("!")!==-1)&&(a=null);var u=n.indexOf("?")!==-1;n=n.replace("!","").replace("?","");var o,s;try{if(s=t.map(function(h){var l=h instanceof i.Table?h.name:h;if(typeof l!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return l}),n=="r"||n===nt)o=nt;else if(n=="rw"||n==tt)o=tt;else throw new O.InvalidArgument("Invalid transaction mode: "+n);if(a){if(a.mode===nt&&o===tt)if(u)a=null;else throw new O.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");a&&s.forEach(function(h){if(a&&a.storeNames.indexOf(h)===-1)if(u)a=null;else throw new O.SubTransaction("Table "+h+" not included in parent transaction.")}),u&&a&&!a.active&&(a=null)}}catch(h){return a?a._promise(null,function(l,v){v(h)}):V(h)}var c=pr.bind(null,this,o,s,a,r);return a?a._promise(o,c,"lock"):k.trans?Ae(k.transless,function(){return i._whenReady(c)}):this._whenReady(c)},e.prototype.table=function(n){if(!H(this._allTables,n))throw new O.InvalidTable("Table ".concat(n," does not exist"));return this._allTables[n]},e}(),ta=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",ra=function(){function e(n){this._subscribe=n}return e.prototype.subscribe=function(n,t,r){return this._subscribe(!n||typeof n=="function"?{next:n,error:t,complete:r}:n)},e.prototype[ta]=function(){return this},e}(),In;try{In={indexedDB:N.indexedDB||N.mozIndexedDB||N.webkitIndexedDB||N.msIndexedDB,IDBKeyRange:N.IDBKeyRange||N.webkitIDBKeyRange}}catch{In={indexedDB:null,IDBKeyRange:null}}function xr(e){var n=!1,t,r=new ra(function(i){var a=Ln(e);function u(y){var m=Fe();try{a&&Ne();var b=fe(e,y);return a&&(b=b.finally(he)),b}finally{m&&je()}}var o=!1,s,c={},h={},l={get closed(){return o},unsubscribe:function(){o||(o=!0,s&&s.abort(),v&&pe.storagemutated.unsubscribe(d))}};i.start&&i.start(l);var v=!1,_=function(){return Zn(p)};function f(){return gt(h,c)}var d=function(y){Pn(c,y),f()&&_()},p=function(){if(!(o||!In.indexedDB)){c={};var y={};s&&s.abort(),s=new AbortController;var m={subscr:y,signal:s.signal,requery:_,querier:e,trans:null},b=u(m);Promise.resolve(b).then(function(w){n=!0,t=w,!(o||m.signal.aborted)&&(c={},h=y,!Ir(h)&&!v&&(pe(en,d),v=!0),Zn(function(){return!o&&i.next&&i.next(w)}))},function(w){n=!1,["DatabaseClosedError","AbortError"].includes(w?.name)||o||Zn(function(){o||i.error&&i.error(w)})})}};return setTimeout(_,0),l});return r.hasValue=function(){return n},r.getValue=function(){return t},r}var De=se;Ce(De,C(C({},cn),{delete:function(e){var n=new De(e,{addons:[]});return n.delete()},exists:function(e){return new De(e,{addons:[]}).open().then(function(n){return n.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(e){try{return Ri(De.dependencies).then(e)}catch{return V(new O.MissingAPI)}},defineClass:function(){function e(n){G(this,n)}return e},ignoreTransaction:function(e){return k.trans?Ae(k.transless,e):e()},vip:pt,async:function(e){return function(){try{var n=xt(e.apply(this,arguments));return!n||typeof n.then!="function"?E.resolve(n):n}catch(t){return V(t)}}},spawn:function(e,n,t){try{var r=xt(e.apply(t,n||[]));return!r||typeof r.then!="function"?E.resolve(r):r}catch(i){return V(i)}},currentTransaction:{get:function(){return k.trans||null}},waitFor:function(e,n){var t=E.resolve(typeof e=="function"?De.ignoreTransaction(e):e).timeout(n||6e4);return k.trans?k.trans.waitFor(t):t},Promise:E,debug:{get:function(){return ne},set:function(e){Vt(e)}},derive:Ie,extend:G,props:Ce,override:Ct,Events:Xe,on:pe,liveQuery:xr,extendObservabilitySet:Pn,getByKeyPath:ae,setByKeyPath:X,delByKeyPath:Dr,shallowClone:Rt,deepClone:_e,getObjectDiff:Et,cmp:B,asap:It,minKey:et,addons:[],connections:Le,errnames:zn,dependencies:In,cache:Pe,semVer:Xt,version:Xt.split(".").map(function(e){return parseInt(e)}).reduce(function(e,n,t){return e+n/Math.pow(10,t*2)})})),De.maxKey=nn(De.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(pe(en,function(e){if(!ye){var n;n=new CustomEvent(ut,{detail:e}),ye=!0,dispatchEvent(n),ye=!1}}),addEventListener(ut,function(e){var n=e.detail;ye||At(n)}));function At(e){var n=ye;try{ye=!0,pe.storagemutated.fire(e),_t(e,!0)}finally{ye=n}}var ye=!1,me,kt=function(){};typeof BroadcastChannel<"u"&&(kt=function(){me=new BroadcastChannel(ut),me.onmessage=function(e){return e.data&&At(e.data)}},kt(),typeof me.unref=="function"&&me.unref(),pe(en,function(e){ye||me.postMessage(e)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(e){if(!se.disableBfCache&&e.persisted){ne&&console.debug("Dexie: handling persisted pagehide"),me?.close();for(var n=0,t=Le;n<t.length;n++){var r=t[n];r.close({disableAutoOpen:!1})}}}),addEventListener("pageshow",function(e){!se.disableBfCache&&e.persisted&&(ne&&console.debug("Dexie: handling persisted pageshow"),kt(),At({all:new Q(-1/0,[[]])}))}));function ia(e){return new Ze({add:e})}function aa(e){return new Ze({remove:e})}function ua(e,n){return new Ze({replacePrefix:[e,n]})}E.rejectionMapper=Nr,Vt(ne);var oa=Object.freeze({__proto__:null,Dexie:se,liveQuery:xr,Entity:qt,cmp:B,PropModSymbol:oi,PropModification:Ze,replacePrefix:ua,add:ia,remove:aa,default:se,RangeSet:Q,mergeRanges:an,rangesOverlap:fr});return C(se,oa,{default:se}),se})});var Bn=ya(Sr(),1),Kr=Symbol.for("Dexie"),Mn=globalThis[Kr]||(globalThis[Kr]=Bn.default);if(Bn.default.semVer!==Mn.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Bn.default.semVer} and ${Mn.semVer}`);var{liveQuery:ga,mergeRanges:ba,rangesOverlap:wa,RangeSet:_a,cmp:xa,Entity:Ea,PropModSymbol:Sa,PropModification:Ka,replacePrefix:Aa,add:ka,remove:Oa}=Mn;var Pa=Mn;export{Mn as Dexie,Ea as Entity,Sa as PropModSymbol,Ka as PropModification,_a as RangeSet,ka as add,xa as cmp,Pa as default,ga as liveQuery,ba as mergeRanges,wa as rangesOverlap,Oa as remove,Aa as replacePrefix};
/*! Bundled license information:

dexie/dist/dexie.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)
*/
//# sourceMappingURL=dexie.bundle.mjs.map