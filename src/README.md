# 源代码目录 (Source)

本目录包含项目的核心源代码，包括工具箱、服务、中间件和功能模块等组件。

## 目录结构

- `toolBox/` - 工具箱，提供各种通用工具函数和模块
- `middlewares/` - 中间件，提供各种处理流程中的中间层功能
- `services/` - 服务，提供各种业务逻辑和功能服务
- `modules/` - 功能模块，按模块划分的各个业务功能

## 代码组织原则

项目代码组织遵循以下原则：

1. **分层设计**：
   - 工具层 (toolBox) - 提供基础能力和通用工具
   - 服务层 (services) - 提供业务逻辑和服务能力
   - 中间件层 (middlewares) - 提供流程处理和适配能力
   - 模块层 (modules) - 提供具体业务功能

2. **模块化设计**：
   - 相关功能集中在同一目录
   - 每个目录有明确的职责边界
   - 降低模块间耦合度

3. **命名规范**：
   - 使用有意义的文件名和目录名
   - 避免使用无语义的通用名称
   - 遵循项目统一的命名风格

## 工具箱 (toolBox)

工具箱是项目的基础能力层，提供各种通用工具函数。详见 [toolBox/README.md](./toolBox/README.md)。

## 服务 (services)

服务层提供各种业务逻辑和功能服务，是连接工具层和模块层的桥梁：

- 提供业务功能的抽象接口
- 管理业务状态和数据
- 协调不同模块间的交互

## 中间件 (middlewares)

中间件层提供各种处理流程中的中间层功能：

- 实现跨模块的通用处理逻辑
- 提供请求拦截和处理能力
- 实现适配器模式，连接不同组件

## 功能模块 (modules)

功能模块层按模块划分各个业务功能：

- 每个模块对应一个具体业务功能
- 模块内按职责划分不同组件
- 模块间通过服务层或事件机制通信

## 开发指南

添加新功能时，请遵循以下流程：

1. 确定功能所属的层级和模块
2. 遵循现有的代码组织结构和命名规范
3. 新建目录或文件前，先确认是否有类似功能可复用
4. 将通用功能抽取到工具箱中，避免重复实现
5. 添加适当的文档说明和注释

## 依赖管理

- 工具箱只依赖自身和必要的外部库
- 服务层可依赖工具箱，但不应依赖模块层
- 模块层可依赖服务层和工具箱
- 避免循环依赖 