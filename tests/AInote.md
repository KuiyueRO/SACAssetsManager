# SACAssetsManager 测试架构

本测试架构由 Claude 3.7 Sonnet 于2023年创建，旨在为 SACAssetsManager 插件的 toolBox 模块提供完整的测试覆盖。

## 架构设计

测试套件按照 toolBox 的三个主要模块分类组织：

1. **@base** - 基础工具测试
   - 流化器测试
   - 网络请求测试
   - 环境检测测试
   - 文件系统测试等

2. **@feature** - 功能特性测试
   - 向量嵌入测试
   - 图像处理测试
   - 数据结构测试
   - 状态机测试等

3. **@useAge** - 应用场景测试
   - 思源API测试
   - 文件管理测试
   - Markdown处理测试
   - 图像处理测试等

## 测试运行机制

测试套件采用模块化设计，支持多级测试运行：

- **整体测试** - 通过 `/tests/index.js` 运行所有测试
- **模块测试** - 通过 `/tests/{module}/run.js` 运行单个模块测试
- **单元测试** - 直接运行单个测试文件

每个测试文件遵循统一的结构：

1. 导入被测试功能
2. 定义测试用例函数
3. 导出 `运行测试()` 函数
4. 每个测试用例提供清晰的成功/失败指示

## 主要测试文件

已创建的核心测试文件包括：

- `/tests/base/流化器测试.js` - 测试异步流程处理工具
- `/tests/feature/向量嵌入测试.js` - 测试向量嵌入和相似度计算
- `/tests/useAge/思源API测试.js` - 测试思源笔记API交互功能

后续计划扩展更多测试用例，覆盖各模块的核心功能。

## 注意事项

1. 部分测试可能需要思源笔记环境才能完整运行
2. API测试可能需要网络连接和相关服务访问权限
3. 向量嵌入等高级功能测试可能需要相关模型和服务支持 